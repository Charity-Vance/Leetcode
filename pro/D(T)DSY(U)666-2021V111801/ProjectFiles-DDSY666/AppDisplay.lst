C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE APPDISPLAY
OBJECT MODULE PLACED IN .\AppDisplay.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Keil_v5 FMSH\C51\BIN\C51.EXE ..\SourceFiles\APP\AppDisplay.c LARGE OBJECTADV
                    -ANCED OPTIMIZE(8,SPEED) BROWSE DEFINE(DDSY666) DEBUG SYMBOLS PRINT(.\AppDisplay.lst) OBJECT(.\AppDisplay.obj)

line level    source

   1          /*******************************************************************************************************
   2          **** Copyright£º  (c)Copyright 2019,Õã½­ÕýÌ©ÒÇÆ÷ÒÇ±íÓÐÏÞÔðÈÎ¹«Ë¾,µçÄÜ±íÓ¦ÓÃÑÐ·¢                       
   3          ****                            All rights reserved.                                                 
   4          **** FileName:    AppDisplay.c                                                                         
   5          **** Brief:       ÏÔÊ¾Ä£¿é                                                                     
   6          **** Author:      peter.he@chint.com                                                                 
   7          **** Version:     V1.0                                                                               
   8          **** Date:        2016-7-14                                                                          
   9          ****                                                                                                 
  10          **** note:ÐÞ¸ÄÀúÊ·¼ÇÂ¼ÁÐ±í£¬Ã¿ÌõÐÞ¸Ä¼ÇÂ¼Ó¦°üÀ¨ÐÞ¸ÄÈÕÆÚ¡¢ÐÞ¸ÄÕß                                          
  11          **** 1.  Author:                                                                                     
  12          ****     Version:                                                                                    
  13          ****     Date :                                                                                      
  14          **** 2.  Author:                                                                                     
  15          ****     Version:                                                                                       
  16          ****     Date:
  17          ****                                                                                        
  18          ****  addtogroup:Library                                                             
  19          **********************************************************************************************************
             -/
  20          
  21          /*--------------------------------- ÎÄ¼þ¹¦ÄÜËµÃ÷ -------------------------------------------------------*/
  22          /*
  23           *  ¸ÃÎÄ¼þËùÓÐº¯ÊýµÄÇ°×ºÎªxxxx_
  24           *  ÎÄ¼þÖ÷º¯ÊýºÍ¶ÔÍâº¯ÊýÐè·ÅÔÚÎÄ¼þµÄÊ×²¿£¬²¢ÇÒÖ÷º¯ÊýÐèÒª·ÅÔÚµÚÒ»¸öÎ»ÖÃ;
  25           *  º¯Êý×¢ÊÍ²ÉÓÃ±ê×¼Ä£°å£¬º¯ÊýÄÚ²¿×¢ÊÍ²ÉÓÃ//;
  26           *  ¶ÔÓÚ×¢ÊÍ½Ï¶àµÄ²¿·Ö£¬¿ÉÒÔÔö¼ÓÒ»¸ö×¢ÊÍ·û£¬È»ºóÏêÏ¸ËµÃ÷·ÅÔÚÎÄ¼þµÄÎ²²¿;
  27           *--------------------------------- ÎÄ¼þ¹¦ÄÜËµÃ÷ -------------------------------------------------------*/
  28           
  29          /**ÓÐÐÎ²ÎµÄº¯Êý¸ñÊ½:*/
  30          /*------------------------------------------------------------------------------------------------------*/
  31          /**
  32           *  @brief    xxÈÎÎñ´¦Àíº¯Êý
  33           *
  34           *  @param    xx :
  35           *
  36           *  @return   xx
  37           *
  38           *  @note     xx
  39           *
  40           */
  41          /*------------------------------------------------------------------------------------------------------*/
  42          /**ÎÞÐÎ²ÎµÄº¯Êý¸ñÊ½:*/
  43          /*------------------------------------------------------------------------------------------------------*/
  44          /**
  45           *  @brief    ÉÏµçËùÓÐ¿ÚÏßÅäÖÃ³É³õÊ¼×´Ì¬£¬ºóÃæ¿É¸ù¾ÝÐèÒª¿ªÆôºÍÅäÖÃ
  46           *
  47           *  @return   xx
  48           *
  49           *  @note     xx
  50           *
  51           */
  52          /*------------------------------------------------------------------------------------------------------*/
  53           
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 2   

  54           
  55          /*----------------< °üº¬ÎÄ¼þ >----------------------------------*/
  56          
  57          #include "..\SourceFiles\PUB\Include.h "
  58          #define    DRV_LCD_8_MSK__A   _BIT0
  59          #define    DRV_LCD_8_MSK__B   _BIT1
  60          #define    DRV_LCD_8_MSK__C   _BIT2
  61          
  62          #define    DRV_LCD_8_MSK__D   _BIT3
  63          #define    DRV_LCD_8_MSK__E   _BIT4
  64          #define    DRV_LCD_8_MSK__F   _BIT5
  65          #define    DRV_LCD_8_MSK__G   _BIT6
  66          
  67          #define    DRV_LCD_8_MSK    \
  68                    (DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | 
             -DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G)
  69          uchar8 const LCD_Char_Table[][2]={
  70                  { '0' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | DR
             -V_LCD_8_MSK__F   },
  71                  { '1' , DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C                                                              
             -                 },
  72                  { '2' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__D     
             -                 },
  73                  { '3' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D     
             -                 },
  74                  { '4' , DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C                        
             -                 },
  75                  { '5' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D     
             -                 },
  76                  { '6' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__C | DR
             -V_LCD_8_MSK__G   },
  77                  { '7' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C                                           
             -                 },
  78                  { '8' , DRV_LCD_8_MSK                                                                                    
             -                 },
  79                  { '9' , DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DR
             -V_LCD_8_MSK__D   },
  80                  { 'A' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F | DR
             -V_LCD_8_MSK__G   },
  81                  { 'B' , DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G     
             -                 },
  82                  { 'C' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F                        
             -                 },
  83                  { 'U' , DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F     
             -                 },
  84                  { 'I' , DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F                                                              
             -                 },
  85                  { 'P' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G     
             -                 },
  86                  { 'F' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__G                        
             -                 },
  87                  { 'O' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__B | DRV_LCD_8_MSK__C | DRV_LCD_8_MSK__D | DRV_LCD_8_MSK__E | DR
             -V_LCD_8_MSK__F   },
  88                  #if(METER_TYPE==METER_TYPE_DDSYU666)
                      { 't' , DRV_LCD_8_MSK__F | DRV_LCD_8_MSK__E | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__D                                                                                 },
                      { 'z' , DRV_LCD_8_MSK__A | DRV_LCD_8_MSK__G | DRV_LCD_8_MSK__D                                                                                                                    },   //µ¼¹ì±íµÄÍ¸Ö§£¬Ó
             -ÃÈý¸Ü´úÌæ
                      #endif
  92          };
  93          #define LCD_CHAR_TABLE_ROWS     (sizeof(LCD_Char_Table)/2)
  94          
  95           
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 3   

  96          /*----------------< ±äÁ¿¶¨Òå >----------------------------------*/
  97          typedef struct  
  98          {        
  99                  ulong32                                 ID;                     ///* ¹Ì¶¨×Ö·û *///    
 100              uchar8*                             Addr;           ///* Êý¾ÝµØÖ· *///  
 101                  uchar8                  Len;            ///* ÏÔÊ¾Êý¾Ý³¤¶È *///
 102                  uchar8                  Dots;           ///* Ð¡ÊýÎ»Êý£¬FF±íÊ¾Î»Êý¿É±ä *///
 103                  uchar8                  StartPos;       ///* ¿ªÊ¼ÏÔÊ¾Î»ÖÃ *///
 104          }GStr_Disp_Type;
 105          #if(METER_TYPE==METER_TYPE_DDSYU666)
              /*----------------< ºê¶¨ÒåÇø >----------------------------------*/
              #define disp_dangqian           { GStr_DisplayPara.ucLCDDrvDispBuf[24-1] |= _BIT5; }
              #define disp_zheng              { GStr_DisplayPara.ucLCDDrvDispBuf[24-1] |= _BIT4; }
              #define disp_fan                { GStr_DisplayPara.ucLCDDrvDispBuf[23-1] |= _BIT4; }
              #define disp_xiang              NOP() 
              #define disp_dianliang      NOP() 
              #define disp_dianjia        NOP() 
              #define disp_shijian        { GStr_DisplayPara.ucLCDDrvDispBuf[ 3-1] |= _BIT5; }
              #define disp_yu_e           { GStr_DisplayPara.ucLCDDrvDispBuf[ 6-1] |= _BIT5; }
              #define disp_touzhi             NOP()
              #define disp_tongxinfu      { GStr_DisplayPara.ucLCDDrvDispBuf[ 7-1] |= _BIT4; }
              #define disp_fanxiangfu     NOP() 
              #define disp_bianchengfu    { GStr_DisplayPara.ucLCDDrvDispBuf[ 3-1] |= _BIT5; }   //ÐÂÔö£¬ÃÜÔ¿·ûºÅ¡£ÏÔÊ¾Î
             -ªTIME  
              #define disp_qinggoudian    { GStr_DisplayPara.ucLCDDrvDispBuf[ 7-1] |= _BIT5; }
              #define disp_lazha          { GStr_DisplayPara.ucLCDDrvDispBuf[ 6-1] |= _BIT4; }
              #define disp_touzhifu       { GStr_DisplayPara.ucLCDDrvDispBuf[23-1] |= _BIT5; }// ÔÝÊ±ÏÔÊ¾T±íÊ¾Í¸Ö§
              #define disp_tunji          NOP()
              #define disp_yuan           { GStr_DisplayPara.ucLCDDrvDispBuf[ 5-1] |= _BIT5; }
              #define disp_kWh            { GStr_DisplayPara.ucLCDDrvDispBuf[ 5-1] |= _BIT4; GStr_DisplayPara.ucLCDDrvDi
             -spBuf[ 4-1] |= (_BIT4|_BIT2|_BIT1); }
              #define disp_shijian2       { GStr_DisplayPara.ucLCDDrvDispBuf[40-1] |= _BIT0; }            //Ð¡ÊýµãP2
              #define disp_Dot4           { GStr_DisplayPara.ucLCDDrvDispBuf[38-1] |= _BIT0; }            //Ð¡ÊýµãP3
              #define disp_Dot3           { GStr_DisplayPara.ucLCDDrvDispBuf[ 3-1] |= _BIT0; }            //Ð¡ÊýµãP5   Ê
             -±¼äµã4
              #define disp_Dot2           { GStr_DisplayPara.ucLCDDrvDispBuf[ 7-1] |= _BIT0; }            //Ð¡ÊýµãP6
              #define disp_shijian1       { GStr_DisplayPara.ucLCDDrvDispBuf[40-1] |= _BIT4; }            //Ð¡ÊýµãP1
              #define disp_shijian3       { GStr_DisplayPara.ucLCDDrvDispBuf[ 3-1] |= _BIT4; }          //Ð¡ÊýµãP4
              //#define disp_U              { GStr_DisplayPara.ucLCDDrvDispBuf[ 8-1] |= _BIT4; }            //U ±êÖ¾
              //#define disp_I              { GStr_DisplayPara.ucLCDDrvDispBuf[ 8-1] |= _BIT5; }            //I ±êÖ¾
              #define disp_V              { GStr_DisplayPara.ucLCDDrvDispBuf[ 4-1] |= _BIT1; }
              #define disp_I              { GStr_DisplayPara.ucLCDDrvDispBuf[ 4-1] |= _BIT3; }
              #define disp_kW             { GStr_DisplayPara.ucLCDDrvDispBuf[ 5-1] |= _BIT4; GStr_DisplayPara.ucLCDDrvDi
             -spBuf[ 4-1] |= (_BIT2|_BIT1); }
              
              /*----------------< ³£Á¿¶¨Òå >----------------------------------*/
               
              #define MAIN_DISP_AREA_NUM_MAX  7       // Ö÷Êý¾ÝÇøÊý×ÖÊýÁ¿
              const unsigned char code LCD_SEG_CHAR_NUM1[MAIN_DISP_AREA_NUM_MAX][7]=
              {
                      { 37, 38, 38, 39, 22, 22, 39 }, // µÚ1¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg    // Ð¡Êý×Ö ÎÞ
              //      {  1,  1,  1,  1,  1,  1,  1 }, // µÚ2¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg ÕâÀïÆäÊµÊÇ»º³åÇø¶ÔÓ¦µÄµØÖ·Æ«ÒÆ//ÎÞ
                      { 24, 23, 23, 24, 24, 24, 23 }, // µÚ3¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
                      { 22, 40, 40, 22, 22, 22, 40 }, // µÚ4¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
                      { 39, 38, 38, 39, 39, 39, 38 }, // µÚ5¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
                      { 37,  3,  3, 37, 37, 37,  3 }, // µÚ6¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
                      {  8,  7,  7, 8 ,  8,  8,  7 }, // µÚ7¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
                      {  6,  5,  5, 6 ,  6,  6,  5 }, // µÚ8¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg 
              };
              const unsigned char code LCD_COM_CHAR_NUM1[MAIN_DISP_AREA_NUM_MAX][7]=
              {
                      {  5,  5,  4,  4,  4,  5,  5 }, // µÚ1¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom    // Ð¡Êý×Ö ÎÞ
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 4   

              //      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ2¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom    ¸ÃÊýÂë¹ÜµÄSEG½ÅÎ´º¸½Ó£¬²»ÏÔÊ¾
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ3¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ4¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ5¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ6¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ7¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
                      {  3,  3,  1,  0,  1,  2,  2 }, // µÚ8¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
              };
              static  GStr_Disp_Type code Disp_Table[]=
              {
                      {0x00000000,            &GStr_Energy.ucaFw_Energy[0]  ,        4,       2,      1, },   ///* 0µ±Ç°µçÁ¿  
                      {0x00010000,            &GStr_Energy.ucaFw_Energy[0]  ,        4,       2,      1, },   ///* 1µ±Ç°ÕýÏòµçÁ¿
                      {0x00020000,            &GStr_Energy.ucaBk_Energy[0]  ,        4,       2,      1, },   ///* 2µ±Ç°·´ÏòµçÁ¿             
                      {0x04000401,            &GStr_MeterIFO.ucaCommAddr[0] ,        3,       0,      2, },   ///* 3Í¨ÐÅµØÖ·¸ß4       
                      {0x04000401,            &GStr_MeterIFO.ucaCommAddr[3] ,        3,       0,      2, },   ///* 4Í¨ÐÅµØÖ·µÍ8
                      {0x04000402,            &GStr_MeterIFO.ucaMeterID[0]  ,        3,       0,      2, },   ///* 5±íºÅ¸ß4
                      {0x04000402,            &GStr_MeterIFO.ucaMeterID[3]  ,        3,       0,      2, },   ///* 6±íºÅµÍ8
                      {0x0400040E,            &GStr_MeterIFO. ucaUserID[0]  ,        3,       0,      2, },   ///* 7¿Í»§±àºÅ¸ß4                    
                      {0x0400040E,            &GStr_MeterIFO. ucaUserID[3]  ,        3,       0,      2, },   ///* 8¿Í»§±àºÅµÍ8
                      {0x02800020,        &GStr_PRICE.ucaPrice[0]       ,        4,   4,      1, },   ///* 9µç¼Û                       
                      {0x00900200,            &GStr_Money.ucaRemainMoney[0] ,        4,       2,      1, },   ///* 10Óà¶î                       
                      {0x00900201,        &GStr_Money.ucaTickMoney[0]   ,        4,   2,      1, },   ///* 11Í¸Ö§½ð¶î      
                      {0x04001001,        &GStr_MoneyPara.ucaAlarmMoneyL1[0]   , 4,   2,      1, },   ///* 12±¨¾¯½ð¶î1
                  {0x04001002,            &GStr_MoneyPara.ucaAlarmMoneyL2[0]   , 4,   2,      1, },   ///* 13±¨¾¯½ð¶î2
                  {0x04090B01,        &GStr_MoneyPara.ucaOverLoadVal[0],     3,       4,      3, },   ///* 14¹ýÔØ¹¦ÂÊ
                      {0x02010100,            &GStr_UIPDisplay.ucVoltageA[1],        3,       2,      3, },   ///* 15AÏàµçÑ¹
                      {0x02020100,            &GStr_UIPDisplay.ucCurrentA[1],        3,       3,      3, },   ///* 16AÏàµçÁ÷
                      {0x02030000,            &GStr_UIPDisplay.ucPower[1],           3,       4,      3, },   ///* 17×ÜÓÐ¹¦¹¦ÂÊ
                      {0x02030100,            &GStr_UIPDisplay.ucPowerA[1],          3,       4,      3, },   ///* 18AÏàÓÐ¹¦¹¦ÂÊ,     
                      {0x02060000,            &GStr_UIPDisplay.ucFactory[2],         2,       3,      5, },   ///* 19×Ü¹¦ÂÊÒòÊý
                      {0x02060100,            &GStr_UIPDisplay.ucFactoryA[2],        2,       3,      5, },   ///* 20AÏà¹¦ÂÊÒòÊý,     
                      {0x02800002,        &GStr_UIPDisplay.ucFrequency[2],       2,   2,      5, },   ///* 21AµçÍøÆµÂÊ,       
                      {0x04000409,        &GStr_UIPDisplay.ucMeterConst[0],      3,   0,      3, },   ///* 22 ÓÐ¹¦³£Êý
              #if(METER_TYPE==METER_TYPE_DTSY666)
                  {0x02010200,        &GStr_UIPDisplay.ucVoltageB[1],        3,   2,  3, },   ///* 22BÏàµçÑ¹, 
                      {0x02010300,            &GStr_UIPDisplay.ucVoltageC[1],        3,   2,  3, },   ///* 23CÏàµçÑ¹,         
                      {0x02020200,        &GStr_UIPDisplay.ucCurrentB[1],        3,   3,  3, },   ///* 24BÏàµçÁ÷,     
                      {0x02020300,            &GStr_UIPDisplay.ucCurrentC[1],        3,   3,  3, },   ///* 25CÏàµçÁ÷,                 
                      {0x02030200,            &GStr_UIPDisplay.ucPowerB[1]  ,        3,   4,  3, },   ///* 26BÏàÓÐ¹¦¹¦ÂÊ
                      {0x02030300,            &GStr_UIPDisplay.ucPowerC[1]  ,        3,   4,  3, },   ///* 27CÏàÓÐ¹¦¹¦ÂÊ,     
                      {0x02060200,            &GStr_UIPDisplay.ucFactoryB[2],        2,   3,  5, },   ///* 28B¹¦ÂÊÒòÊý
                      {0x02060300,            &GStr_UIPDisplay.ucFactoryC[2],        2,   3,  5, },   ///* 29CÏà¹¦ÂÊÒòÊý,
              #endif
              
                      {0xFFFFFFFF,            0,                                     0,   0,  0, },   ///* È«ÏÔ  Ê¼ÖÕÔÚ×îºóÒ»Ïî
              };
              //#if(METER_TYPE==METER_TYPE_DTSY666)
              //      #define   DispMaxNum           31   ///* Ä¿Ç°31ÆÁ£¬ºóÐøÀ©Õ¹
              //#else
                      #define   DispMaxNum           sizeof(Disp_Table)/sizeof(GStr_Disp_Type)   ///* Ä¿Ç°23ÆÁ£¬ºóÐøÀ©Õ¹
              //#endif
                      
                      
              #endif
 208          
 209          #if( (METER_TYPE==METER_TYPE_DDSY666) || ( METER_TYPE==METER_TYPE_DTSY666 ) )
 210          /*----------------< ºê¶¨ÒåÇø >----------------------------------*/
 211          #define disp_dangqian           ( GStr_DisplayPara.ucLCDDrvDispBuf[1]  |= _BIT5 )
 212          #define disp_zheng              ( GStr_DisplayPara.ucLCDDrvDispBuf[0]  |= _BIT5 )
 213          #define disp_fan                ( GStr_DisplayPara.ucLCDDrvDispBuf[36] |= _BIT5 )
 214          #define disp_xiang              ( GStr_DisplayPara.ucLCDDrvDispBuf[37] |= _BIT5 )
 215          #define disp_dianliang      ( GStr_DisplayPara.ucLCDDrvDispBuf[39] |= _BIT5 )
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 5   

 216          #define disp_dianjia        ( GStr_DisplayPara.ucLCDDrvDispBuf[15] |= _BIT5 )
 217          #define disp_shijian        ( GStr_DisplayPara.ucLCDDrvDispBuf[14] |= _BIT5 )
 218          #define disp_yu_e           ( GStr_DisplayPara.ucLCDDrvDispBuf[11] |= _BIT5 )
 219          #define disp_touzhi             ( GStr_DisplayPara.ucLCDDrvDispBuf[10] |= _BIT5 )
 220          #define disp_tongxinfu      ( GStr_DisplayPara.ucLCDDrvDispBuf[1]  |= _BIT1 )
 221          #define disp_fanxiangfu     ( GStr_DisplayPara.ucLCDDrvDispBuf[0]  |= _BIT0 )
 222          #define disp_bianchengfu    ( GStr_DisplayPara.ucLCDDrvDispBuf[36] |= _BIT1 )
 223          #define disp_qinggoudian    ( GStr_DisplayPara.ucLCDDrvDispBuf[37] |= _BIT0 )
 224          #define disp_lazha          ( GStr_DisplayPara.ucLCDDrvDispBuf[38] |= _BIT1 )
 225          #define disp_touzhifu       ( GStr_DisplayPara.ucLCDDrvDispBuf[38] |= _BIT0 )
 226          #define disp_tunji          ( GStr_DisplayPara.ucLCDDrvDispBuf[39] |= _BIT0 )
 227          #define disp_yuan           ( GStr_DisplayPara.ucLCDDrvDispBuf[16] |= _BIT0 )
 228          #define disp_kWh            ( GStr_DisplayPara.ucLCDDrvDispBuf[9]  |= _BIT5 )
 229          #define disp_shijian2       ( GStr_DisplayPara.ucLCDDrvDispBuf[16] |= _BIT1 )            //Ð¡ÊýµãP2
 230          #define disp_Dot4           ( GStr_DisplayPara.ucLCDDrvDispBuf[14] |= _BIT1 )            //Ð¡ÊýµãP3
 231          #define disp_Dot3           ( GStr_DisplayPara.ucLCDDrvDispBuf[12] |= _BIT1 )            //Ð¡ÊýµãP5   Ê±¼ä
             -µã4
 232          #define disp_Dot2           ( GStr_DisplayPara.ucLCDDrvDispBuf[10] |= _BIT1 )            //Ð¡ÊýµãP6
 233          #define disp_shijian1       ( GStr_DisplayPara.ucLCDDrvDispBuf[16] |= _BIT5 )            //Ð¡ÊýµãP1
 234          #define disp_shijian3       ( GStr_DisplayPara.ucLCDDrvDispBuf[12] |= _BIT5 )            //Ð¡ÊýµãP4
 235          
 236          
 237          
 238          
 239          /*----------------< ³£Á¿¶¨Òå >----------------------------------*/
 240          
 241          #define MAIN_DISP_AREA_NUM_MAX  8
 242          const unsigned char code LCD_SEG_CHAR_NUM1[MAIN_DISP_AREA_NUM_MAX][7]=
 243          {
 244                  {  1,  1,  1,  1,  2,  2,  2 }, // µÚ1¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg ÕâÀïÆäÊµÊÇ»º³åÇø¶ÔÓ¦µÄµØÖ·Æ«ÒÆ
 245                  { 38, 38, 38, 38, 37, 37, 37 }, // µÚ2¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 246                  { 40, 40, 40, 40, 39, 39, 39 }, // µÚ3¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 247                  { 16, 16, 16, 16, 17, 17, 17 }, // µÚ4¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 248                  { 14, 14, 14, 14, 15, 15, 15 }, // µÚ5¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 249                  { 12, 12, 12, 12, 13, 13, 13 }, // µÚ6¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 250                  { 10, 10, 10, 10, 11, 11, 11 }, // µÚ7¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg
 251                  { 10, 16, 15, 14, 13, 11, 12 }, // µÚ8¸öÊý×ÖABCDEFG¶ÔÓ¦µÄseg 
 252          };
 253          const unsigned char code LCD_COM_CHAR_NUM1[MAIN_DISP_AREA_NUM_MAX][7]=
 254          {
 255                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ1¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 256                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ2¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 257                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ3¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 258                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ4¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 259                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ5¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 260                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ6¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 261                  {  4,  3,  2,  1,  2,  4,  3 }, // µÚ7¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 262                  {  0,  0,  0,  0,  0,  0,  0 }, // µÚ8¸öÊý×ÖABCDEFG¶ÔÓ¦µÄcom
 263          };
 264          
 265          /*----------------< ±äÁ¿¶¨Òå >----------------------------------*/ 
 266          static  GStr_Disp_Type code Disp_Table[]=
 267          {
 268                  {0x00000000,            &GStr_Energy.ucaFw_Energy[0]  ,        4,       2,      1, },   ///* 0µ±Ç°µçÁ¿  
 269                  {0x00010000,            &GStr_Energy.ucaFw_Energy[0]  ,        4,       2,      1, },   ///* 1µ±Ç°ÕýÏòµçÁ¿
 270                  {0x00020000,            &GStr_Energy.ucaBk_Energy[0]  ,        4,       2,      1, },   ///* 2µ±Ç°·´ÏòµçÁ¿             
 271                  {0x04000401,            &GStr_MeterIFO.ucaCommAddr[0] ,        2,       0,      5, },   ///* 3Í¨ÐÅµØÖ·¸ß4       
 272                  {0x04000401,            &GStr_MeterIFO.ucaCommAddr[2] ,        4,       0,      1, },   ///* 4Í¨ÐÅµØÖ·µÍ8
 273                  {0x04000402,            &GStr_MeterIFO.ucaMeterID[0]  ,        2,       0,      5, },   ///* 5±íºÅ¸ß4
 274                  {0x04000402,            &GStr_MeterIFO.ucaMeterID[2]  ,        4,       0,      1, },   ///* 6±íºÅµÍ8
 275                  {0x0400040E,            &GStr_MeterIFO. ucaUserID[0]  ,        2,       0,      5, },   ///* 7¿Í»§±àºÅ¸ß4                    
 276                  {0x0400040E,            &GStr_MeterIFO. ucaUserID[2]  ,        4,       0,      1, },   ///* 8¿Í»§±àºÅµÍ8
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 6   

 277                  {0x02800020,        &GStr_PRICE.ucaPrice[0]       ,        4,   4,      1, },   ///* 9µç¼Û                       
 278                  {0x00900200,            &GStr_Money.ucaRemainMoney[0] ,        4,       2,      1, },   ///* 10Óà¶î                       
 279                  {0x00900201,        &GStr_Money.ucaTickMoney[0]   ,        4,   2,      1, },   ///* 11Í¸Ö§½ð¶î      
 280                  {0x04001001,        &GStr_MoneyPara.ucaAlarmMoneyL1[0]   , 4,   2,      1, },   ///* 12±¨¾¯½ð¶î1
 281              {0x04001002,            &GStr_MoneyPara.ucaAlarmMoneyL2[0]   , 4,   2,      1, },   ///* 13±¨¾¯½ð¶î2
 282              {0x04090B01,        &GStr_MoneyPara.ucaOverLoadVal[0],     3,       4,      3, },   ///* 14¹ýÔØ¹¦ÂÊ
 283                  {0x02010100,            &GStr_UIPDisplay.ucVoltageA[1],        3,       2,      3, },   ///* 15AÏàµçÑ¹
 284                  {0x02020100,            &GStr_UIPDisplay.ucCurrentA[1],        3,       3,      3, },   ///* 16AÏàµçÁ÷
 285                  {0x02030000,            &GStr_UIPDisplay.ucPower[1],           3,       4,      3, },   ///* 17×ÜÓÐ¹¦¹¦ÂÊ
 286                  {0x02030100,            &GStr_UIPDisplay.ucPowerA[1],          3,       4,      3, },   ///* 18AÏàÓÐ¹¦¹¦ÂÊ,     
 287                  {0x02060000,            &GStr_UIPDisplay.ucFactory[2],         2,       3,      5, },   ///* 19×Ü¹¦ÂÊÒòÊý
 288                  {0x02060100,            &GStr_UIPDisplay.ucFactoryA[2],        2,       3,      5, },   ///* 20AÏà¹¦ÂÊÒòÊý,     
 289                  {0x02800002,        &GStr_UIPDisplay.ucFrequency[2],       2,   2,      5, },   ///* 21AµçÍøÆÀÂÊ,       
 290                  {0x04000409,        &GStr_UIPDisplay.ucMeterConst[0],      3,   0,      3, },   ///* 22ÓÐ¹¦³£Êý
 291          #if(METER_TYPE==METER_TYPE_DTSY666)
                  {0x02010200,        &GStr_UIPDisplay.ucVoltageB[1],        3,   2,  3, },   ///* 22BÏàµçÑ¹, 
                      {0x02010300,            &GStr_UIPDisplay.ucVoltageC[1],        3,   2,  3, },   ///* 23CÏàµçÑ¹,         
                      {0x02020200,        &GStr_UIPDisplay.ucCurrentB[1],        3,   3,  3, },   ///* 24BÏàµçÁ÷,     
                      {0x02020300,            &GStr_UIPDisplay.ucCurrentC[1],        3,   3,  3, },   ///* 25CÏàµçÁ÷,                 
                      {0x02030200,            &GStr_UIPDisplay.ucPowerB[1]  ,        3,   4,  3, },   ///* 26BÏàÓÐ¹¦¹¦ÂÊ
                      {0x02030300,            &GStr_UIPDisplay.ucPowerC[1]  ,        3,   4,  3, },   ///* 27CÏàÓÐ¹¦¹¦ÂÊ,     
                      {0x02060200,            &GStr_UIPDisplay.ucFactoryB[2],        2,   3,  5, },   ///* 28B¹¦ÂÊÒòÊý
                      {0x02060300,            &GStr_UIPDisplay.ucFactoryC[2],        2,   3,  5, },   ///* 29CÏà¹¦ÂÊÒòÊý,
              #endif
 301                  {0xFFFFFFFF,            0,                                     0,   0,  0, },   ///* È«ÏÔ  Ê¼ÖÕÔÚ×îºóÒ»Ïî
 302          };
 303          
 304          #define   DispMaxNum           sizeof(Disp_Table)/sizeof(GStr_Disp_Type)   ///* Ä¿Ç°23ÆÁ£¬ºóÐøÀ©Õ¹
 305          
 306                  
 307          #endif
 308          /*----------------< º¯ÊýÉùÃ÷ >----------------------------------*/
 309          void ApiDisp_DisplayTask(void);
 310          uchar8 ApiGet_Lcd_Num(ulong32 DataId,uchar8 ScreenNum);
 311          ulong32 ApiGet_Lcd_ID(uchar8 v_LcdNum);
 312          static void ApiDisplay_NumData( unsigned char Num, unsigned char show );
 313          static void ApiDisp_ShowNum(uchar8 ShowStartPos,uchar8 len, uchar8* Show, uchar8 v_ucDots);
 314          static void APiDisp_Const(uchar8 Dispcnt);
 315          void APiDisp_LcdledControl();
 316          /*----------------< º¯Êý¶¨Òå >----------------------------------*/
 317          uchar8 ApiGet_Lcd_Num(ulong32 DataId,uchar8 ScreenNum)
 318          {
 319   1              uchar8 i,v_LcdNum;
 320   1              for(i=1;i<(DispMaxNum+1);i++)///Ã»ÓÐÐòºÅ0£¬µÚÒ»ÆÁÎªÐòºÅ1£¬·µ»Ø0Îª²»Ö§³Ö¸Ã±êÊ¶
 321   1              {
 322   2                      if(DataId==Disp_Table[i-1].ID)
 323   2                      {
 324   3                              if((DataId==0x04000401)||(DataId==0x04000402)||(DataId==0x0400040E))
 325   3                              {
 326   4                                      if(ScreenNum==0) 
 327   4                                      {
 328   5                                              v_LcdNum=i;
 329   5                                      }
 330   4                                      else
 331   4                                      {
 332   5                                              v_LcdNum=(i+1);
 333   5                                      }
 334   4                              }
 335   3                              else 
 336   3                              {
 337   4                                      v_LcdNum=i;
 338   4                              }
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 7   

 339   3                              return v_LcdNum;
 340   3                      }
 341   2              }
 342   1          return 0x00;///²»Ö§³ÖÏÔÊ¾
 343   1      }
 344          
 345          ulong32 ApiGet_Lcd_ID(uchar8 v_LcdNum)
 346          {
 347   1              ulong32 V_ulDI3DI2DI1DI0;
 348   1          if(v_LcdNum>=DispMaxNum)
 349   1              {
 350   2                      V_ulDI3DI2DI1DI0=0x00000000;///±ðµÄÖµÏÔÊ¾µ±Ç°ÕýÏò×Ü
 351   2                      return V_ulDI3DI2DI1DI0;
 352   2              }
 353   1              V_ulDI3DI2DI1DI0=Disp_Table[v_LcdNum].ID;
 354   1      
 355   1              return V_ulDI3DI2DI1DI0;
 356   1      }
 357          
 358          void ApiDisplay_NumData( unsigned char v_ucNumPos, unsigned char v_ucShowChar )
 359          {
 360   1              unsigned char V_ucCnti,V_ucCntj, V_ucResult, V_ucTemp08, V_ucPosBit,V_ucCombit; 
 361   1              
 362   1              if( MAIN_DISP_AREA_NUM_MAX < v_ucNumPos ) return;
 363   1      
 364   1              
 365   1               for( V_ucCntj=0; V_ucCntj<LCD_CHAR_TABLE_ROWS; V_ucCntj++ )
 366   1               {
 367   2                       if( v_ucShowChar == LCD_Char_Table[V_ucCntj][0] )
 368   2                       {
 369   3                              V_ucResult =  LCD_Char_Table[V_ucCntj][1];
 370   3                              break;
 371   3                       }
 372   2               }
 373   1              if( LCD_CHAR_TABLE_ROWS <= V_ucCntj ) return;
 374   1               
 375   1              V_ucTemp08 = 1; 
 376   1              for( V_ucCnti=0 ; V_ucCnti<7; V_ucCnti++ )
 377   1              {  
 378   2                      V_ucCombit = LCD_COM_CHAR_NUM1[v_ucNumPos-1][V_ucCnti];         // ÕÒµ½ABCDEFG¶ÔÓ¦µÄcom
 379   2                      V_ucPosBit = LCD_SEG_CHAR_NUM1[v_ucNumPos-1][V_ucCnti]-1;       // ÕÒµ½ABCDEFG¶ÔÓ¦µÄseg 
 380   2                      
 381   2                      V_ucCombit = ( 0x01<<V_ucCombit );
 382   2                      if( (V_ucResult & V_ucTemp08) ) 
 383   2                      {
 384   3                              GStr_DisplayPara.ucLCDDrvDispBuf[V_ucPosBit] |= V_ucCombit;
 385   3                      } 
 386   2                      V_ucTemp08 <<= 1;
 387   2              } 
 388   1      }
 389          void ApiDisp_ShowNum(uchar8 ShowStartPos, uchar8 len, uchar8* Show, uchar8 v_ucDots)
 390          {
 391   1              unsigned char i, k, j;
 392   1      
 393   1              j = len*2-v_ucDots;     //0Î»Ð¡Êý
 394   1              
 395   1              k = 0;
 396   1              if( GStr_DisplayPara.ucDisp_0_flag)///
 397   1              {
 398   2                      for( i=0; i<len; i++ )
 399   2                      {
 400   3                              if(((((*(Show+i))>>4)&0x0F) == 0) && (k == 0)&&((2*(i+1)-1)<j))   ///* µÚi¸ö×Ö½ÚµÄ¸ßÎ»ÒªÐ¡ÓÚÕûÊýµÄÎ»Êý£
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 8   

             -¬ÓÐÐ§ÕûÊýÖ»ÓÐÒ»Î»ÇÒÎª0£¬²»ÃðÁã
 401   3                              {
 402   4                                      ShowStartPos++;//Ê×Î»Îª0²»ÏÔÊ¾
 403   4                              }
 404   3                              else
 405   3                              {
 406   4                                      k=1;
 407   4                                      ApiDisplay_NumData( ShowStartPos++, (((*(Show+i))>>4)&0x0F)+0x30 ); 
 408   4                              }
 409   3                              
 410   3                              if(((((*(Show+i))>>0)&0x0F) == 0) && (k == 0)&& ((2*(i+1))<j)) ShowStartPos++;///* µÚi¸ö×Ö½ÚµÄµÍÎ»ÒªÐ¡Ó
             -ÚÕûÊýµÄÎ»Êý£¬ÓÐÐ§ÕûÊýÖ»ÓÐÒ»Î»ÇÒÎª0£¬²»ÃðÁã
 411   3                              else
 412   3                              {
 413   4                                      k=1;
 414   4                                      ApiDisplay_NumData( ShowStartPos++, (((*(Show+i))>>0)&0x0F)+0x30 ); 
 415   4                  }
 416   3               }                      
 417   2              }
 418   1              else
 419   1              {
 420   2                      for( i=0; i<len; i++ )
 421   2                      {
 422   3                              ApiDisplay_NumData( ShowStartPos++, (((*(Show+i))>>4)&0x0F)+0x30 );
 423   3                              ApiDisplay_NumData( ShowStartPos++, (((*(Show+i))>>0)&0x0F)+0x30 );
 424   3                      }
 425   2          }
 426   1      }
 427          
 428          void APiDisp_Const(uchar8 Dispcnt)
 429          {
 430   1              uchar8 V_ucDots=0;
 431   1          LibPub_MemSetBytes( GStr_DisplayPara.ucLCDDrvDispBuf, 0x00, 40 );
 432   1              ///*»º´æÇåÁã
 433   1              GStr_DisplayPara.ucDisp_0_flag=0;///ÏûÁã±êÖ¾Çå0
 434   1      
 435   1              if((DispMaxNum-1)==Dispcnt)
 436   1              {
 437   2                      LibPub_MemSetBytes( GStr_DisplayPara.ucLCDDrvDispBuf, 0xFF, 40 );
 438   2                      return;
 439   2              }
 440   1          switch (Dispcnt)
 441   1              {
 442   2                      case 0://µ±Ç°×ÜµçÁ¿
 443   2                      {
 444   3                              disp_dangqian;
 445   3                              disp_dianliang;
 446   3                          disp_kWh;
 447   3                          disp_Dot2;
 448   3                          GStr_DisplayPara.ucDisp_0_flag=1;
 449   3                      }break;
 450   2                      case 1://µ±Ç°ÕýÏòµçÁ¿
 451   2                      {
 452   3                              #if(METER_TYPE!=METER_TYPE_DDSYU666)
 453   3                              disp_dangqian;
 454   3                              #endif
 455   3                              disp_zheng;
 456   3                              disp_xiang;
 457   3                              disp_dianliang;
 458   3                              disp_kWh;
 459   3                          disp_Dot2;
 460   3                          GStr_DisplayPara.ucDisp_0_flag=1;
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 9   

 461   3                      }break;  
 462   2                      case 2://µ±Ç°·´ÏòµçÁ¿
 463   2                      {
 464   3                              #if(METER_TYPE!=METER_TYPE_DDSYU666)
 465   3                              disp_dangqian;
 466   3                              #endif
 467   3                              disp_fan;
 468   3                              disp_xiang;
 469   3                              disp_dianliang;
 470   3                              disp_kWh;
 471   3                          disp_Dot2;
 472   3                          GStr_DisplayPara.ucDisp_0_flag=1;
 473   3                      }break;  
 474   2                      
 475   2      
 476   2                      
 477   2                      case 9: ///µç¼Û
 478   2                      {
 479   3                              disp_dianjia;
 480   3                          disp_Dot4;
 481   3                          disp_yuan;
 482   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 483   3                      }break;
 484   2                      
 485   2              case 10:   ///Ê£Óà½ð¶î
 486   2                      {
 487   3                              disp_yu_e;
 488   3                          disp_Dot2;
 489   3                          disp_yuan;
 490   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 491   3                      }       break;
 492   2      
 493   2              case 11:  ///Í¸Ö§½ð¶î
 494   2                      {
 495   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                                      ApiDisplay_NumData( 1, 'z' );               ///ÏÔÊ¾Í¸Ö§  T+Èý
                                      disp_touzhifu;
                                      #endif
 499   3                              disp_touzhi;
 500   3                          disp_Dot2;
 501   3                          disp_yuan;
 502   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 503   3                      }break;
 504   2                      
 505   2                      case 12:///±¨¾¯½ð¶î1   
 506   2                      {
 507   3                              disp_Dot2;
 508   3                              disp_yuan;
 509   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 510   3                      }break;
 511   2                      
 512   2                      case 13:///±¨¾¯½ð¶î2
 513   2                      {
 514   3                              disp_Dot2;
 515   3                              disp_yuan;
 516   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 517   3                      }break;
 518   2                      
 519   2                      case 14:///¹ýÔØ¹¦ÂÊ
 520   2                      {
 521   3                              ApiDisplay_NumData( 1, 'O' );///ÏÔÊ¾OP
 522   3                              ApiDisplay_NumData( 2, 'P' );
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 10  

 523   3                              disp_Dot4;
 524   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 525   3                              
 526   3                      }break;
 527   2                      
 528   2                      case 15:///AÏàµçÑ¹ 
 529   2                      #if(METER_TYPE==METER_TYPE_DTSY666)
                              case 23:///BÏàµçÑ¹
                              case 24://CÏàµçÑ¹       
                              #endif
 533   2                      {
 534   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                              disp_V;
                                      ApiDisplay_NumData( 2, 'U' ); ///ÏÔÊ¾U
                                      #else
 538   3                              ApiDisplay_NumData( 1, 'U' ); ///ÏÔÊ¾U
 539   3                              if(Dispcnt==15)
 540   3                              {
 541   4                                      ApiDisplay_NumData( 2, 'A' ); ///ÏÔÊ¾A
 542   4                              }
 543   3                              #endif
 544   3                              #if(METER_TYPE==METER_TYPE_DTSY666)
                                      else if(Dispcnt==23)
                                      {
                                              ApiDisplay_NumData( 2, 'B' ); ///ÏÔÊ¾B
                                      }
                                      else 
                                      {
                                              ApiDisplay_NumData( 2, 'C' ); ///ÏÔÊ¾C
                                      }       
                                      #endif
 554   3                              disp_Dot2;
 555   3                              
 556   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 557   3                              
 558   3                      }break;
 559   2                      
 560   2                      case 16:///AÏàµçÁ÷
 561   2                      #if(METER_TYPE==METER_TYPE_DTSY666)     
                              case 25://BÏàµçÁ÷
                              case 26://CÏàµçÁ÷       
                              #endif
 565   2                      {
 566   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                              disp_I;
                                      ApiDisplay_NumData( 2, 'I' ); ///ÏÔÊ¾U
                                      #else
 570   3                              ApiDisplay_NumData( 1, 'I' ); ///ÏÔÊ¾I
 571   3                              if(Dispcnt==16)
 572   3                              {
 573   4                                      ApiDisplay_NumData( 2, 'A' ); ///ÏÔÊ¾A
 574   4                              }
 575   3                              #endif
 576   3                              #if(METER_TYPE==METER_TYPE_DTSY666)     
                                      else if(Dispcnt==25)//BÏàµçÁ÷
                                      {
                                              ApiDisplay_NumData( 2, 'B' ); ///ÏÔÊ¾B
                                      }
                                      else
                                      {
                                              ApiDisplay_NumData( 2, 'C' ); ///ÏÔÊ¾C
                                      }
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 11  

                                      #endif
 586   3                              disp_Dot3;
 587   3                              
 588   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 589   3                              
 590   3                      }break;
 591   2                      
 592   2                      case 17:///×ÜÓÐ¹¦¹¦ÂÊ
 593   2                      case 18:///AÓÐ¹¦¹¦ÂÊ
 594   2                      #if(METER_TYPE==METER_TYPE_DTSY666)             
                              case 27://BÏà¹¦ÂÊ
                              case 28://CÏà¹¦ÂÊ       
                              #endif
 598   2                      {
 599   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                              disp_kW;
                                      ApiDisplay_NumData( 2, 'P' ); ///ÏÔÊ¾U
                                      #else
 603   3                              ApiDisplay_NumData( 1, 'P' ); ///ÏÔÊ¾P
 604   3                              if(Dispcnt==18)
 605   3                              {
 606   4                                      ApiDisplay_NumData( 2, 'A' ); ///ÏÔÊ¾A  
 607   4                              }
 608   3                              #endif
 609   3                              #if(METER_TYPE==METER_TYPE_DTSY666)     
                                      else if(Dispcnt==27)///BÏà¹¦ÂÊ
                                      {
                                              ApiDisplay_NumData( 2, 'B' ); ///ÏÔÊ¾B  
                                      }
                                      else if(Dispcnt==28)///CÏà¹¦ÂÊ
                                      {
                                              ApiDisplay_NumData( 2, 'C' ); ///ÏÔÊ¾C
                                      }
                                      #endif
 619   3                              disp_Dot4;
 620   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 621   3                              
 622   3                      }break;
 623   2                      
 624   2                      case 19:///×Ü¹¦ÂÊÒòÊý
 625   2                      case 20:///A¹¦ÂÊÒòÊý
 626   2                      #if(METER_TYPE==METER_TYPE_DTSY666)                     
                              case 29://BÏà¹¦ÂÊÒòÊý
                              case 30://CÏà¹¦ÂÊÒòÊý   
                              #endif
 630   2                      {
 631   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                                      ApiDisplay_NumData( 2, 'F' ); ///ÏÔÊ¾U
                                      ApiDisplay_NumData( 3, 't' ); ///ÏÔÊ¾U
                                      #else
 635   3                              if(Dispcnt==20)
 636   3                              {
 637   4                                      ApiDisplay_NumData( 2, 'A' ); ///ÏÔÊ¾A
 638   4                              }
 639   3                              #endif
 640   3                              #if(METER_TYPE==METER_TYPE_DTSY666)             
                                      else if(Dispcnt==29)
                                      {
                                              ApiDisplay_NumData( 2, 'B' ); ///ÏÔÊ¾B
                                      }
                                      else if(Dispcnt==30)
                                      {
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 12  

                                              ApiDisplay_NumData( 2, 'C' ); ///ÏÔÊ¾C
                                      }
                                      #endif
 650   3                              disp_Dot3;
 651   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 652   3                      }break;
 653   2                      
 654   2                      case 21:///ÆµÂÊ
 655   2                      {
 656   3                              #if(METER_TYPE==METER_TYPE_DDSYU666)
                                      ApiDisplay_NumData( 2, 'F' ); ///ÏÔÊ¾U
                                      #else
 659   3                              ApiDisplay_NumData( 1, 'F' ); ///ÏÔÊ¾F
 660   3                              #endif
 661   3                              disp_Dot2;
 662   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 663   3                      }break;
 664   2                      
 665   2                      case 22:///ÓÐ¹¦³£Êý
 666   2                      {
 667   3                              GStr_DisplayPara.ucDisp_0_flag=1;
 668   3                      }break;
 669   2                      
 670   2                      
 671   2      
 672   2                      default:
 673   2                      break;
 674   2          }
 675   1              V_ucDots = Disp_Table[Dispcnt].Dots;
 676   1              #if(METER_TYPE!=METER_TYPE_DDSYU666)     //µ¥ÈýÏàÊý×ÖÏÔÊ¾£¬
 677   1              ApiDisp_ShowNum( Disp_Table[Dispcnt].StartPos, Disp_Table[Dispcnt].Len, Disp_Table[Dispcnt].Addr, V_ucDot
             -s);
 678   1              #else  //µ¼¹ì±íÏÔÊ¾·ÅÔÚAPiDisp_Dynamic
                      if(F_FACTORY_MODE==(GStr_Flag.ucMeterMode&F_FACTORY_MODE))
                      {
                              if(GStr_DisplayPara.usDispCnt%2)  //Êý¾ÝÉÁË¸
                              {
                            ApiDisp_ShowNum( Disp_Table[Dispcnt].StartPos, Disp_Table[Dispcnt].Len, Disp_Table[Dispcnt].Addr, V
             -_ucDots);
                              }
                      }
                      else    ///* ³§Íâµ¼¹ì±íÊý¾Ý³£ÏÔ
                      {
                              ApiDisp_ShowNum( Disp_Table[Dispcnt].StartPos, Disp_Table[Dispcnt].Len, Disp_Table[Dispcnt].Addr, V_ucDo
             -ts);
                              if(!(GStr_Flag.ucRunState2&F_RUN_EsamKeyFlag))///¹«Ô¿£¬³§ÍâÃÜÔ¿ÅÐ¶Ï  
                              {
                                              disp_bianchengfu;
                              }
                      }  
                      #endif
 695   1      }
 696          
 697          void APiDisp_Dynamic(void)
 698          {
 699   1              GStr_DisplayPara.usDispCnt++;
 700   1              
 701   1              #if(METER_TYPE!=METER_TYPE_DDSYU666)   //µ¼¹ì±íÃ»ÓÐÓ²ij°´Å¥£¬
 702   1              if((F_FACTORY_MODE==(GStr_Flag.ucMeterMode&F_FACTORY_MODE))||(F_KEY_ACKTION_DOWN==(GStr_Flag.ucFactoryKey
             -&F_KEY_ACKTION_DOWN)))
 703   1              ///* Ó²IJ¶Ì½Ó»òÕßÈíIJÓÐÐ§ÉÁË¸ÏÔÊ¾±à³Ì·ûºÅ
 704   1              {
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 13  

 705   2                      if(GStr_DisplayPara.usDispCnt%2)
 706   2                      {
 707   3                              disp_bianchengfu;
 708   3                      }
 709   2              }///³§ÄÚÉÁË¸ÏÔÊ¾±à³Ì·ûºÅ
 710   1              else
 711   1              {
 712   2                              if(!(GStr_Flag.ucRunState2&F_RUN_EsamKeyFlag))///¹«Ô¿
 713   2                              {
 714   3                                              disp_bianchengfu;
 715   3                              }
 716   2              }
 717   1              #endif
 718   1              
 719   1              if(GStr_Flag.ucRunState1 &F_RUN_POWER_REVERSE)
 720   1              {
 721   2                      disp_fanxiangfu;
 722   2              }
 723   1              if (_TRUE == LibPub_GetDiffTime( GStr_DisplayPara.ucDisp_tongxin_Time, LibPub_GetTimerBeat(), 5000))
 724   1              {
 725   2      //              GStr_DisplayPara.ucDisp_tongxin_Time=0;
 726   2                      GStr_DisplayPara.ucDisp_tongxin_Flag=0x00;
 727   2              }
 728   1              if(0x55==GStr_DisplayPara.ucDisp_tongxin_Flag)
 729   1              {
 730   2      
 731   2                      if(GStr_DisplayPara.usDispCnt%2)
 732   2                      {
 733   3                              disp_tongxinfu;                 
 734   3                      }
 735   2              }
 736   1              if( (0x00==GStr_DisplayPara.ucDisp_tongxin_Flag) && (BLE_STAT_CONNECTED==GStr_Flag.ucBLESTATFlag) )
 737   1              {
 738   2                      disp_tongxinfu;
 739   2              }       
 740   1              if(GStr_Flag.ucRunState2&F_RUN_RELAY_STATE)
 741   1              {       
 742   2                        disp_lazha;
 743   2              }
 744   1        if((GStr_Flag.ucRunState1 &F_RUN_L1_ALRAM)||(GStr_Flag.ucRunState1 &F_RUN_L2_ALRAM)||(GStr_Flag.ucRunSta
             -te1&F_RUN_REMAIND_ZERO))
 745   1              {///1¼¶±¨¾¯¡¢2¼¶±¨¾¯ºÍÊ£Óà½ð¶îÎª0Ê±£¬Çë¹ºµçÉÁË¸
 746   2                              if(GStr_DisplayPara.usDispCnt%2)
 747   2                              {
 748   3      
 749   3                                      disp_qinggoudian;///Çë¹ºµçÉÁË¸
 750   3                                      
 751   3                              }
 752   2              }
 753   1              if(GStr_Flag.ucRunState1 &F_RUN_OVER_DRAFT)
 754   1              {///Í¸Ö§ºóÍ¸Ö§ºÍÇë¹ºµç³£ÏÔ
 755   2                              disp_touzhifu;///Í¸Ö§
 756   2                              disp_qinggoudian;///Çë¹ºµç³£ÏÔ
 757   2              }
 758   1              
 759   1              if((GStr_Counter.ucPasswordErr_Cnt[0]>=3)||(GStr_Counter.ucPasswordErr_Cnt[1]>=3)||
 760   1                      (GStr_Counter.ucPasswordErr_Cnt[2]>=3)||(GStr_Flag.ucRunState2&F_RUN_INTAUTH_MACNumErrFlag))
 761   1              {///ÃÜÂë´í3´Î»òÕßÉí·ÝÈÏÖ¤¹ÒÆð
 762   2                              if(GStr_DisplayPara.usDispCnt%2)
 763   2                              {
 764   3                                              disp_kWh;///ÉÁË¸kWh
 765   3                              }
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 14  

 766   2      //                      else
 767   2      //                      {
 768   2      //                               GStr_DisplayPara.ucLCDDrvDispBuf[9]  &= ~_BIT5 ;///ÇåµôkwhµÄ»º´æ
 769   2      //                      }
 770   2              
 771   2              }
 772   1              
 773   1      
 774   1      
 775   1      }
 776          
 777          /*------------------------------------------------------------------------------------------------------*/
 778          /**
 779           *  @brief    ±³¹â¿ØÖÆ
 780           *  @return   xx
 781           *
 782           *  @note     xx
 783           *
 784           */
 785          /*------------------------------------------------------------------------------------------------------*/
 786          void APiDisp_LcdledControl()    //±³¹â¿ØÖÆ
 787          {
 788   1              if( GStr_DisplayPara.ucBackLightTime != 0 ) GStr_DisplayPara.ucBackLightTime--;
 789   1      
 790   1          if( GStr_Flag.ucRunState1& B0011_1111 )///¹¦ÂÊ·´Ïò²»µãÁÁ±³¹â£¬Í¨ÐÅ±¨¾¯ºÍÒ»¶þ¼¶±¨¾¯Í¸Ö§¹ýÁã¹ýÔØ¹¦ÂÊ·´Ïò
             -µÈµãÁÁ±³¹â
 791   1              {
 792   2                      LCDLEDON();
 793   2              }
 794   1              
 795   1              else if( GStr_DisplayPara.ucBackLightTime !=0 ) 
 796   1              {
 797   2                      LCDLEDON();
 798   2              }
 799   1              else
 800   1              {
 801   2                      LCDLEDOFF();
 802   2              }
 803   1              if( GStr_DisplayPara.ucRelayLEDTime != 0 ) GStr_DisplayPara.ucRelayLEDTime--;
 804   1              if(GStr_DisplayPara.ucRelayLEDTime)
 805   1              {
 806   2                      RELAYLEDON();
 807   2              }
 808   1              else if( GStr_Flag.ucRunState2&F_RUN_RELAY_STATE )
 809   1              {
 810   2      
 811   2                      RELAYLEDON();
 812   2              }
 813   1              else
 814   1              {
 815   2                      RELAYLEDOFF();
 816   2              }               
 817   1      }
 818          
 819          /*------------------------------------------------------------------------------------------------------*/
 820          /**
 821           *  @brief    Ë¢ÐÂÏÔÊ¾ÈÎÎñ
 822           *
 823           *  @return   xx
 824           *
 825           *  @note     xx
 826           *
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 15  

 827           */
 828          /*------------------------------------------------------------------------------------------------------*/
 829          void ApiDisp_DisplayTask(void)
 830          {
 831   1              uchar8 Dispcnt;
 832   1              
 833   1      
 834   1              
 835   1       // @brief  Èç¹ûµôµç£¬¾ÍÖ±½ÓÍË³ö£¬²»Ë¢ÐÂ
 836   1              /* ÐèÒªÔö¼ÓµôµçÅÐ¶Ï */
 837   1              if ( (GStr_Flag.ucSystem & F_PWON)==0 ) ///* µôµçÁË¾ÍÖ±½ÓÍË³ö *///
 838   1              {
 839   2                      return;
 840   2              }
 841   1      
 842   1              // 500msË¢ÐÂÒ»´ÎÏÔÊ¾
 843   1              if ( _TRUE == LibPub_GetDiffTime( GStr_DisplayPara.ulDispUpdataTime, LibPub_GetTimerBeat(), LCD_UPTATA_TI
             -ME) )
 844   1              {
 845   2                      GStr_DisplayPara.ulDispUpdataTime =  LibPub_GetTimerBeat();
 846   2                      GStr_Flag.ucDisp |= F_DISP_UPDATA;                      // ÖÃÏÔÊ¾Ë¢ÐÂ±êÖ¾ 
 847   2                      
 848   2                      GStr_DisplayPara.ulDisptimer--;
 849   2                      if(GStr_DisplayPara.ulDisptimer==0)
 850   2                      {
 851   3                          GStr_DisplayPara.ulDisptimer = GStr_DisplayPara.ucDispDurTime*1000/LCD_UPTATA_TIME;///ÖÃÏÔÊ¾Ê±¼äÎªÑ­
             -ÏÔÊ±¼ä£¬×ª»»Îªms
 852   3                              GStr_DisplayPara.ucDispNum++;
 853   3                              
 854   3                              if( (GStr_Flag.ucDisp & F_DISP_KEYDISP) || (GStr_Flag.ucDisp & F_DISP_COM_DIASP) || ( GStr_Flag.ucDisp 
             -& F_DISP_DISPALL ) )
 855   3                              {
 856   4                                      GStr_DisplayPara.ucFirstKeyDisp = 0;            // °´¼üÑ­»·ÏÔÊ¾Ê±¼äµ½£¬ÏÂ´Î°´¼üÏÔÊ¾ÖØÐÂµÚÒ»ÆÁÏÔÊ¾
 857   4                                      GStr_Flag.ucDisp = 0;///*ÏÔÊ¾Ê±¼äµ½ÇåµôËùÓÐµÄÏÔÊ¾±êÖ¾£¬ÖÃÑ­»·ÏÔÊ¾±êÖ¾
 858   4                                      GStr_Flag.ucDisp |= F_DISP_AUTODISP;    // °´¼üÑ­»·ÏÔÊ¾Ê±¼äµ½£¬¿ªÊ¼Ñ­»·ÏÔÊ¾£¬´ÓµÚÒ»ÆÁ¿ªÊ¼
 859   4                                      GStr_DisplayPara.ucDispNum = 0;
 860   4                  }
 861   3                      }
 862   2                      
 863   2                      if(GStr_Flag.ucDisp & F_DISP_KEYDISP)   // °´¼üÏÔÊ¾
 864   2                      {
 865   3                              Dispcnt = GStr_DisplayPara.ucKeyDisptable[GStr_DisplayPara.ucDispNum];
 866   3                      } 
 867   2                      else if(GStr_Flag.ucDisp & F_DISP_COM_DIASP)    // Í¨ÐÅÏÔÊ¾
 868   2                      {
 869   3                              Dispcnt=GStr_DisplayPara.ucDispNum;     // Ó³Éä¾ßÌåÏÔÊ¾ÄÚÈÝ 
 870   3                      } 
 871   2                      else if(GStr_Flag.ucDisp & F_DISP_DISPALL)      // È«ÏÔ
 872   2                      {
 873   3                              LCDDrv_SetLcdBuff(0xFF);
 874   3                              return;
 875   3                      } 
 876   2                      else if(GStr_Flag.ucDisp & F_DISP_AUTODISP) // ×Ô¶¯Ñ­»·ÏÔÊ¾
 877   2                      {
 878   3                              if(GStr_DisplayPara.ucDispNum>=GStr_DisplayPara.ucAutoDispNum)
 879   3                              {
 880   4                                      GStr_DisplayPara.ucDispNum=0;
 881   4                              }
 882   3                              Dispcnt=GStr_DisplayPara.ucAutoDisptable[GStr_DisplayPara.ucDispNum];   
 883   3                      }       
 884   2                      
 885   2                      // ×¼±¸ÏÔÊ¾Êý¾Ý
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 16  

 886   2                      if(Dispcnt>=DispMaxNum)
 887   2                      {
 888   3                              Dispcnt=0;
 889   3                      }
 890   2                      APiDisp_Const(Dispcnt);
 891   2                      APiDisp_Dynamic();
 892   2                      LCDDrv_DispRamUpdata(); 
 893   2              }
 894   1      }
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 17  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint16_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
IB_CON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F3H  1
LCD_Char_Table . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0000H  36
COMM_BLE_STAT. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ApiDisp_DisplayTask. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Dispcnt. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
API_COMM_STATUS_OVERTIME . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TB81 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DBH  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
IB_CON3. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F4H  1
FP64 . . . . . . . . . . . . . . . . .  TYPEDEF  -----  FLOAT    -----  4
TKCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A4H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
IB_CON4. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F5H  1
PASLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E7H  1
GStr_ENERGYDEC_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucaFw_EnergyDec. . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  13
  ucaBk_EnergyDec. . . . . . . . . . .  MEMBER   -----  ARRAY    000DH  13
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
OSCLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FEH  1
IB_CON5. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F6H  1
GStr_EventRecordNum_Type . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucEventTimes . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  24
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0018H  2
GStr_FLAG_Type . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  ucSystem . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucMeterMode. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucPwOnState. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucRunState . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  ucRunState2. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ucRunState1. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  ucRunState3. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  ucDisp . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0009H  1
  ucFactoryKey . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000AH  1
  ucDispKey. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  ucMoney. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  ucPowerOnFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
  ucWrE2promSafeByte . . . . . . . . .  MEMBER   -----  U_CHAR   000EH  1
  ucBLESTATFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   000FH  1
BOOLEAN. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
SM1_RXOV . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
SPCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A1H  1
SBRTH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009CH  1
P5 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E9H  1
_ApiDisplay_NumData. . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
  v_ucNumPos . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  v_ucShowChar . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  V_ucCnti . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  V_ucCntj . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  V_ucResult . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  V_ucTemp08 . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  V_ucPosBit . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  V_ucCombit . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 18  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


LIB_E2P_Price_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
P6 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EAH  1
LIB_E2P_Display_Table. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_DISPLAY_PARA_Type . . . . . . . .  TYPEDEF  -----  STRUCT   -----  129
  ucFullDisp_Time. . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucDispDurTime. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucAutoDispNum. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucKeyDispNum . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  usDisp_ParaCRC16 . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  ucAutoDisptable. . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  30
  ucKeyDisptable . . . . . . . . . . .  MEMBER   -----  ARRAY    0024H  30
  usDisp_tableCRC16. . . . . . . . . .  MEMBER   -----  U_INT    0042H  2
  ucBackLightTime. . . . . . . . . . .  MEMBER   -----  U_CHAR   0044H  1
  ucRelayLEDTime . . . . . . . . . . .  MEMBER   -----  U_CHAR   0045H  1
  ulDispUpdataTime . . . . . . . . . .  MEMBER   -----  U_LONG   0046H  4
  usDispCnt. . . . . . . . . . . . . .  MEMBER   -----  U_INT    004AH  2
  ulDisptimer. . . . . . . . . . . . .  MEMBER   -----  U_LONG   004CH  4
  ucKeydelaytimer. . . . . . . . . . .  MEMBER   -----  U_CHAR   0050H  1
  ucFirstKeyDisp . . . . . . . . . . .  MEMBER   -----  U_CHAR   0051H  1
  ucDisp_0_flag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0052H  1
  ucDisp_tongxin_Flag. . . . . . . . .  MEMBER   -----  U_CHAR   0053H  1
  ucDisp_tongxin_Time. . . . . . . . .  MEMBER   -----  U_LONG   0054H  4
  ucDispNum. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0058H  1
  ucLCDDrvDispBuf. . . . . . . . . . .  MEMBER   -----  ARRAY    0059H  40
int32_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
P7 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EBH  1
IB_DATA. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EFH  1
P8 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ECH  1
int16_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
SBRTL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009DH  1
P9 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EDH  1
PBANKLO. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B7H  1
GStr_COUNTER_Type. . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ucFactoryMode_Cnt. . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  ucKeyRelayOn_Cnt . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  ucRelayDelay_Cnt . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucHoldMoney_Cnt. . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucPasswordErr_Cnt. . . . . . . . . .  MEMBER   -----  ARRAY    0006H  3
SPSTA. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A2H  1
IEN0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
PWRCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B3H  1
ulong32. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
EMUSR. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
IEN1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
PWRCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B4H  1
DPH1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0085H  1
P0_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0080H  1
ushort16 . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P1_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
P0_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0081H  1
ADCH . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C3H  1
BLE_DRV_OPERATION_INDEX. . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
LIB_E2P_SOFTI_J. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P2_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A0H  1
P1_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
P0_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0082H  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 19  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


IPH0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BAH  1
DPL1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0084H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
LIB_E2P_FUN_CONFIG_BAK . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MONITOR_Tpye. . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  59
  ulTimer_ms . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  ulTimer_ms_old . . . . . . . . . . .  MEMBER   -----  U_LONG   0004H  4
  ulTimerClrWDT. . . . . . . . . . . .  MEMBER   -----  U_LONG   0008H  4
  ulTimerMin . . . . . . . . . . . . .  MEMBER   -----  U_LONG   000CH  4
  ulTimer5ms . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0010H  4
  ucPowerOnTimer . . . . . . . . . . .  MEMBER   -----  U_CHAR   0014H  1
  ulTimers . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0015H  4
  ulUpDateUIPTime. . . . . . . . . . .  MEMBER   -----  U_LONG   0019H  4
  ulSoftI_JTime. . . . . . . . . . . .  MEMBER   -----  U_LONG   001DH  4
  usSoftI_JTimeCRC16 . . . . . . . . .  MEMBER   -----  U_INT    0021H  2
  usPasswordErrTime. . . . . . . . . .  MEMBER   -----  ARRAY    0023H  8
  ucCommSymbolTime . . . . . . . . . .  MEMBER   -----  U_CHAR   002BH  1
  ucPowerLimitNum. . . . . . . . . . .  MEMBER   -----  U_CHAR   002CH  1
  ulOverDemandCloseTime. . . . . . . .  MEMBER   -----  U_LONG   002DH  4
  ulProgEventDelayTime . . . . . . . .  MEMBER   -----  U_LONG   0031H  4
  ulReadRandom2DelayTime . . . . . . .  MEMBER   -----  U_LONG   0035H  4
  ucBleAdvCnt. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0039H  1
  ucBleConnectCnt. . . . . . . . . . .  MEMBER   -----  U_CHAR   003AH  1
P3_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
P2_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A1H  1
P1_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
P0_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0083H  1
IPH1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BBH  1
COMM_BLE_MAC . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P4_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C0H  1
P3_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
P2_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A2H  1
P1_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
P0_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
EXF0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
P4_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C1H  1
P3_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
P2_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A3H  1
P1_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
P0_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
P4_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C2H  1
P3_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
P2_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A4H  1
P1_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
P0_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0086H  1
EXF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
TKF0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A6H  1
IPL0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
LCD_COM_CHAR_NUM1. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0038H  56
LCD_SEG_CHAR_NUM1. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0000H  56
LIB_E2P_ENRGY_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P4_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C3H  1
P3_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
P2_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A5H  1
P1_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
P0_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
REN1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DCH  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 20  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P1CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
IPL1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B9H  1
LIB_E2P_EventNum . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
long32 . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
P4_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C4H  1
P3_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
P2_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A6H  1
P1_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0097H  1
TK0H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E2H  1
SUSLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008EH  1
P4_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C5H  1
P3_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
P2_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A7H  1
TK1H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E4H  1
P4_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C6H  1
P3_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
TK2H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E6H  1
LIB_E2P_Money_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
short16. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
P4_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C7H  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
E7816. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
TK0L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E1H  1
API_COMM_STATUS_ERROR. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
EADR . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0091H  1
TK1L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E3H  1
TK2L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E5H  1
SADEN1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DBH  1
SM10_FE1 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DFH  1
P9CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
SADEN2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FBH  1
_ApiGet_Lcd_ID . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  v_LcdNum . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  V_ulDI3DI2DI1DI0 . . . . . . . . . .  AUTO     XDATA  U_LONG   0000H  4
LIB_E2P_EMU_CALPARA. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_ENERGY_PULSE_Type . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  ucPulseAdd . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucPulseAddBusy . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucPulseStatu . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucPulseDecimal . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ucPulseDecSavePtr. . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucPulseDecSaveNoFF . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucaPulseRemain . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  2
PS0L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
APiDisp_LcdledControl. . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
PT0L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
SADDR1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DAH  1
LIB_E2P_INDEX_MAX. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_Display_Para . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM12_TXCOL1. . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DDH  1
PT1L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
SADDR2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FAH  1
RCAP2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
COMM_BLE_MOD . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PT2L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 21  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


SP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0081H  1
INT32S . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
LIB_E2P_EventNumPiont. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_METER_IFO_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  27
  ucaCommAddr. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucaMeterID . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  6
  ucaUserID. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    000CH  6
  ucVoltageTrans . . . . . . . . . . .  MEMBER   -----  ARRAY    0012H  3
  ucCurrentTrans . . . . . . . . . . .  MEMBER   -----  ARRAY    0015H  3
  ucBpsVal . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0018H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0019H  2
RCAP2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
INT32U . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
INT16S . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
INT16U . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
PX4L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
C_T2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
SFINE2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DEH  1
_LCDDrv_SetLcdBuff . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GStr_BLE_GROUP_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucBleMAC . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucBleName. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  12
  ucBleKey . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0012H  3
  usAdvTime. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0015H  2
  ucBleTPL . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0017H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0018H  2
COMM_BLE_MFV . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_UIPDisplay. . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  135
GStr_EventNumPiont_Type. . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  uc_Num . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
IRCON1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ADH  1
IRCON2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AFH  1
GStr_Comm_MAP. . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaDataId. . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  ucaRamAdd. . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
  IsWrite. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  ucaE2pIndex. . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
  ucaE2offset. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000AH  1
  ucaDataLen . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  IsBCD. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  EEIsHEX. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
API_COMM_STATUS_IDLE . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EXCON1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ABH  1
SBUF . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0099H  1
EXCON2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ACH  1
PCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0087H  1
B32_B08. . . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  4
  B08. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B16. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B32. . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
AUXC . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F1H  1
COMM_BLE_TPL . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_UART_COMM_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  423
  ucCommChStatus . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucCommRevStep. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 22  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ucCommRevLen . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucCommSndLen . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ucCommSndCnt . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucCommAddrType . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucCommError. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ulCommTimeInit . . . . . . . . . . .  MEMBER   -----  U_LONG   0007H  4
  ulCommRcvByteOverTime. . . . . . . .  MEMBER   -----  U_LONG   000BH  4
  ulCommSndByteOverTime. . . . . . . .  MEMBER   -----  U_LONG   000FH  4
  ulCommRspOverTime. . . . . . . . . .  MEMBER   -----  U_LONG   0013H  4
  ucaCommRXBuff. . . . . . . . . . . .  MEMBER   -----  ARRAY    0017H  200
  ucaCommTXBuff. . . . . . . . . . . .  MEMBER   -----  ARRAY    00DFH  200
GStr_ENERGY_Type . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  10
  ucaFw_Energy . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaBk_Energy . . . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
GU_B32_B08_Type. . . . . . . . . . . .  TYPEDEF  -----  UNION    -----  4
  B08. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B16. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B32. . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
TK0BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D4H  1
TMOD . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0089H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
IENX . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AAH  1
IB_OFFSET. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EEH  1
TK1BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D6H  1
SBRT1H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DCH  1
TK2BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DFH  1
SBRT2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FCH  1
APiDisp_Dynamic. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
RSTSTAT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B1H  1
LIB_E2P_Password . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TK0BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D3H  1
LIB_E2P_BLE_PARA . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_RUN_STATE. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TK1BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D5H  1
SBRT1L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DDH  1
COMM_BLE_TTP . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EMU_EPADR_Type . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  ucEmuAddr. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ulEmuRegData . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
TK2BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D7H  1
SBRT2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FDH  1
API_COMM_STATUS_SEND . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM0_FE . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
CLKCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B2H  1
API_COMM_STATUS_RECV_OK. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM2_TXCOL. . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
LDOCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B5H  1
B. . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F0H  1
API_COMM_STATUS_RECV . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MeterIFO. . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  27
_ApiGet_Lcd_Num. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DataId . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0000H  4
  ScreenNum. . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0004H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
  v_LcdNum . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 23  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


EMU_CALPARA_Type . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  22
  ulaCalPara . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  20
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0014H  2
GStr_DisplayPara . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  129
CP_RL2 . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
LIB_E2P_EMU_UIPKms . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_UIP_GROUP_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  68
  ulVoltage. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  16
  ulCurrent. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  16
  ulPower. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  16
  ulFactory. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  16
  ulFrequency. . . . . . . . . . . . .  MEMBER   -----  U_LONG   0040H  4
ENUM_API_COMM_STATUS . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
LibPub_GetTimerBeat. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GStr_Counter . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  9
ACC. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E0H  1
ES0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
RI1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D8H  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
TH0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008CH  1
INSCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0086H  1
TH1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008DH  1
uchar8 . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
TI1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D9H  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
TH2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
LIB_E2P_EMU_CALPARA_BAK. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
uint8_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
GStr_Energy. . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  10
GStr_UIP_DISPLAY_Type. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  135
  ucVoltage. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucVoltageA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucVoltageB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  ucVoltageC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    000CH  4
  ucCOMMVoltage. . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  4
  ucCOMMVoltageA . . . . . . . . . . .  MEMBER   -----  ARRAY    0014H  4
  ucCOMMVoltageB . . . . . . . . . . .  MEMBER   -----  ARRAY    0018H  4
  ucCOMMVoltageC . . . . . . . . . . .  MEMBER   -----  ARRAY    001CH  4
  ucCurrent. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  4
  ucCurrentA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0024H  4
  ucCurrentB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0028H  4
  ucCurrentC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    002CH  4
  ucCOMMCurrent. . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  4
  ucCOMMCurrentA . . . . . . . . . . .  MEMBER   -----  ARRAY    0034H  4
  ucCOMMCurrentB . . . . . . . . . . .  MEMBER   -----  ARRAY    0038H  4
  ucCOMMCurrentC . . . . . . . . . . .  MEMBER   -----  ARRAY    003CH  4
  ucPower. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0040H  4
  ucPowerA . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0044H  4
  ucPowerB . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0048H  4
  ucPowerC . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    004CH  4
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 24  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ucCOMMPower. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0050H  4
  ucCOMMPowerA . . . . . . . . . . . .  MEMBER   -----  ARRAY    0054H  4
  ucCOMMPowerB . . . . . . . . . . . .  MEMBER   -----  ARRAY    0058H  4
  ucCOMMPowerC . . . . . . . . . . . .  MEMBER   -----  ARRAY    005CH  4
  ucFactory. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0060H  4
  ucFactoryA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0064H  4
  ucFactoryB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0068H  4
  ucFactoryC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    006CH  4
  ucCOMMFactory. . . . . . . . . . . .  MEMBER   -----  ARRAY    0070H  4
  ucCOMMFactoryA . . . . . . . . . . .  MEMBER   -----  ARRAY    0074H  4
  ucCOMMFactoryB . . . . . . . . . . .  MEMBER   -----  ARRAY    0078H  4
  ucCOMMFactoryC . . . . . . . . . . .  MEMBER   -----  ARRAY    007CH  4
  ucFrequency. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0080H  4
  ucMeterConst . . . . . . . . . . . .  MEMBER   -----  ARRAY    0084H  3
TL0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008AH  1
_LibPub_GetDiffTime. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
EX4. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
TL1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008BH  1
FLASHCON . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A7H  1
LIB_E2P_Money_Para . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TL2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
LIB_E2P_ENERGY_DECPULSE_BK . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_AvailTimer . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
ADCDH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C5H  1
LIB_E2P_Price. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_AVAIL_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  41
  us_IDAvailTimer. . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  ucBackMonFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0003H  2
  ulAutRemainingTime . . . . . . . . .  MEMBER   -----  U_LONG   0005H  4
  ucRechangeMoney. . . . . . . . . . .  MEMBER   -----  ARRAY    0009H  4
  ucBuybeforeMoney . . . . . . . . . .  MEMBER   -----  ARRAY    000DH  4
  ucbeforeFwEnergy . . . . . . . . . .  MEMBER   -----  ARRAY    0011H  4
  ucbeforeBkEnergy . . . . . . . . . .  MEMBER   -----  ARRAY    0015H  4
  ucE2Key. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0019H  16
GU_BoolWordVariable. . . . . . . . . .  TYPEDEF  -----  UNION    -----  2
  BYTE . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  2
  BIT. . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0000H  2
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
PWMCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009FH  1
GStr_PRICE . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  14
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
char8. . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
int8_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
ADCDL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C4H  1
ADT. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C2H  1
LIB_E2P_INDEX. . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
GStr_PRICE_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaPrice . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaPurchaseMoneyAll. . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucPurchaseTimes. . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
DPH. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0083H  1
Disp_Table . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    0070H  240
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 25  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


GStr_Flag. . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  16
DPL. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0082H  1
SBUF1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D9H  1
COMM_BLE_EADV. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_FUN_CONFIG . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EXEN2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
SBUF2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F9H  1
_ApiDisp_ShowNum . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
  ShowStartPos . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  len. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  Show . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  v_ucDots . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
  k. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0007H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0008H  1
EMU_COMM_CAL_TAB_Type. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2
  ucCommDI1. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucEmuAddr. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
LIB_E2P_ENERGY_DECPULSE_FW . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM11_RXOV1 . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DEH  1
PADCL. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BEH  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
SCON1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
STATUS . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
LCDCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D1H  1
ADCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C1H  1
SCON2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
TCON1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008FH  1
LIB_E2P_EventValidPiont. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_ENRGY. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LCDCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D2H  1
EDTAH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0092H  1
T2MOD. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
EMU_UIPKms_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ulaKmsuip. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  12
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
GStr_FUN_CONFIG_Type . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  ucFunCurrentVal. . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucFunMeterConst. . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucRes. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0002H  12
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
GStr_EventParaData . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  V_usEventID. . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  V_usEventAddr. . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  V_ucEventLenth . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
LIB_E2P_Money. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EDTAL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
GStr_EEPROM_MAP. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  ucE2pAddressIndex. . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  usE2pAddress . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  ucE2pSize. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucE2pLen . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucIsCRC. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ucIsBak. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
EDTAM. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
TK0DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 26  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


SADEN. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
wchar_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
LIB_E2P_METER_INFO . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_Money . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  14
TK1DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BEH  1
PBANK. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B6H  1
GStr_EventValidPiont_Type. . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  uc_Point . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
TK2DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A5H  1
EADTP. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AEH  1
SADDR. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
TK0DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CFH  1
LIB_E2P_ENERGY_DECPULSE_WS . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MONEY_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaRemainMoney . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucaTickMoney . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
TK1DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BDH  1
TK2DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BFH  1
P7816L . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
LPDCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C6H  1
LIB_E2P_EMU_UIPKms_BAK . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MoneyPara . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  25
LPDCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C7H  1
MAX_BLE_INDEX. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_SecretKey. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
IRDAT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AEH  1
F1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D1H  1
EMUIE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
SFINE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009EH  1
XPAGE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F7H  1
Gstr_VirtualEsam . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  64
  ucTempKey. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  16
  ucDisKey . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  16
  ucComplexKey . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  16
  ucRs485RandNum . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  8
  ucRs485RandNum2. . . . . . . . . . .  MEMBER   -----  ARRAY    0038H  8
GStr_MONEY_PARA_Type . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  25
  ucaAlarmMoneyL1. . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaAlarmMoneyL2. . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucaMaxMoneyLimit . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  ucaTickMoneyLimit. . . . . . . . . .  MEMBER   -----  ARRAY    000CH  4
  ucaAllowcloseMoney . . . . . . . . .  MEMBER   -----  ARRAY    0010H  4
  ucaOverLoadVal . . . . . . . . . . .  MEMBER   -----  ARRAY    0014H  3
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0017H  2
INT8S. . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
EMUIF. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0097H  1
_APiDisp_Const . . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
  Dispcnt. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  V_ucDots . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
API_COMM_STATUS_FRAME_OK . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_Disp_Type . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  10
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  Addr . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
C51 COMPILER V9.54   APPDISPLAY                                                            11/18/2021 18:53:10 PAGE 27  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  Dots . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  StartPos . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0009H  1
INT8U. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
LCDDrv_DispRamUpdata . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
_LibPub_MemSetBytes. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
FP32 . . . . . . . . . . . . . . . . .  TYPEDEF  -----  FLOAT    -----  4
uint32_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
API_COMM_STATUS_FRAME. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
RB81 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DAH  1
SPDAT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A3H  1
IB_CON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F2H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2123    ----
   CONSTANT SIZE    =    352    ----
   XDATA SIZE       =     36      26
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
