C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE APPPOWEROFF
OBJECT MODULE PLACED IN .\AppPowerOff.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Keil_v5 FMSH\C51\BIN\C51.EXE ..\SourceFiles\APP\AppPowerOff.c LARGE OBJECTAD
                    -VANCED OPTIMIZE(8,SPEED) BROWSE DEFINE(DDSYU666) DEBUG SYMBOLS PRINT(.\AppPowerOff.lst) OBJECT(.\AppPowerOff.obj)

line level    source

   1          /*******************************************************************************************************
   2          **** Copyright£º  (c)Copyright 2019,Õã½­ÕýÌ©ÒÇÆ÷ÒÇ±íÓÐÏÞÔðÈÎ¹«Ë¾,µçÄÜ±íÓ¦ÓÃÑÐ·¢                       
   3          ****                            All rights reserved.                                                 
   4          **** FileName:    AppPowerOff.c                                                                          
   5          **** Brief:       µôµçÅäÖÃÎÄ¼þ                                                                      
   6          **** Author:      peter.he@chint.com                                                                 
   7          **** Version:     V1.0                                                                               
   8          **** Date:        2016-7-14                                                                          
   9          ****                                                                                                 
  10          **** note:ÐÞ¸ÄÀúÊ·¼ÇÂ¼ÁÐ±í£¬Ã¿ÌõÐÞ¸Ä¼ÇÂ¼Ó¦°üÀ¨ÐÞ¸ÄÈÕÆÚ¡¢ÐÞ¸ÄÕß                                          
  11          **** 1.  Author:                                                                                     
  12          ****     Version:                                                                                    
  13          ****     Date :                                                                                      
  14          **** 2.  Author:                                                                                     
  15          ****     Version:                                                                                       
  16          ****     Date:
  17          ****                                                                                        
  18          ****  addtogroup:Library                                                             
  19          **********************************************************************************************************
             -/
  20          
  21          /*--------------------------------- ÎÄ¼þ¹¦ÄÜËµÃ÷ -------------------------------------------------------*/
  22          /*
  23           *  ¸ÃÎÄ¼þËùÓÐº¯ÊýµÄÇ°×ºÎªxxxx_
  24           *  ÎÄ¼þÖ÷º¯ÊýºÍ¶ÔÍâº¯ÊýÐè·ÅÔÚÎÄ¼þµÄÊ×²¿£¬²¢ÇÒÖ÷º¯ÊýÐèÒª·ÅÔÚµÚÒ»¸öÎ»ÖÃ;
  25           *  º¯Êý×¢ÊÍ²ÉÓÃ±ê×¼Ä£°å£¬º¯ÊýÄÚ²¿×¢ÊÍ²ÉÓÃ//;
  26           *  ¶ÔÓÚ×¢ÊÍ½Ï¶àµÄ²¿·Ö£¬¿ÉÒÔÔö¼ÓÒ»¸ö×¢ÊÍ·û£¬È»ºóÏêÏ¸ËµÃ÷·ÅÔÚÎÄ¼þµÄÎ²²¿;
  27           *--------------------------------- ÎÄ¼þ¹¦ÄÜËµÃ÷ -------------------------------------------------------*/
  28           
  29          /**ÓÐÐÎ²ÎµÄº¯Êý¸ñÊ½:*/
  30          /*------------------------------------------------------------------------------------------------------*/
  31          /**
  32           *  @brief    xxÈÎÎñ´¦Àíº¯Êý
  33           *
  34           *  @param    xx :
  35           *
  36           *  @return   xx
  37           *
  38           *  @note     xx
  39           *
  40           */
  41          /*------------------------------------------------------------------------------------------------------*/
  42          /**ÎÞÐÎ²ÎµÄº¯Êý¸ñÊ½:*/
  43          /*------------------------------------------------------------------------------------------------------*/
  44          /**
  45           *  @brief    ÉÏµçËùÓÐ¿ÚÏßÅäÖÃ³É³õÊ¼×´Ì¬£¬ºóÃæ¿É¸ù¾ÝÐèÒª¿ªÆôºÍÅäÖÃ
  46           *
  47           *  @return   xx
  48           *
  49           *  @note     xx
  50           *
  51           */
  52          /*------------------------------------------------------------------------------------------------------*/
  53           
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 2   

  54           
  55          /*----------------< °üº¬ÎÄ¼þ >----------------------------------*/
  56          #include "..\SourceFiles\PUB\Include.h"
  57          
  58          /*----------------< ºê¶¨ÒåÇø >----------------------------------*/
  59          
  60          
  61          /*----------------< ³£Á¿¶¨Òå >----------------------------------*/
  62          
  63          
  64          /*----------------< ±äÁ¿¶¨Òå >----------------------------------*/
  65          
  66          
  67          /*----------------< º¯ÊýÉùÃ÷ >----------------------------------*/
  68          static void ApiPwOff_CloseDevices(void);
  69          static void ApiPwOff_DataSave(void);
  70          static void ApiPwOff_EnterSleep(void);
  71          static void ApiPwOff_PeripheralInit(void);
  72          static void ApiPwOff_DataProcess(void);
  73          static void ApiPwOff_Display(void); 
  74          static void ApiPwOff_SysClkInit(void);
  75          static void ApiPwOff_BLEPOWERInit(void);
  76          static void ApiPwOff_McuTimerInit(void);
  77          static void ApiPwOff_McuGpioInit(void);
  78          static void ApiPwOff_McuUartInit(void);
  79          static void ApiPwOff_McuDispInit(void);
  80          static void ApiPwOff_EmuInit(void);
  81          static void ApiPwOff_McuLPDInit(void);
  82          static void ApiPwOff_McuEnterSleep(void);
  83          void ApiPwOff_PowerOffTask(void);
  84          
  85          /*----------------< º¯Êý¶¨Òå >----------------------------------*/
  86          
  87          /*------------------------------------------------------------------------------------------------------*/
  88          /**
  89           *  @brief    µôµç¹ÜÀíº¯Êý
  90           *
  91           *  @return   xx
  92           *
  93           *  @note     xx
  94           *
  95           */
  96          /*------------------------------------------------------------------------------------------------------*/
  97           
  98          void ApiPwOff_PowerOffTask(void)
  99          {
 100   1              uchar8  V_ucCnti;
 101   1              
 102   1              if ( GStr_Flag.ucSystem & F_PWOFF_NOW ) // ·¢ÉúµôµçÔÚÖÐ¶ÏÖÐ¼ì²â£¬¼ì²âµ½ºóÔÚÕâÀï½øÐÐÅÐ¶Ï
 103   1              {
 104   2                      // @brief ---- ¹Ø±ÕÖ®Ç°¿ªÆôµÄ¹¦ÄÜÄ£¿é   
 105   2                              ApiPwOff_CloseDevices();         
 106   2                      
 107   2                      // @brief ---- Èç¹ûÏµÍ³Õý³£ÔËÐÐÁË¾ÍÒª±£´æÒ»ÏÂÐèÒª±£´æµÄÊý¾Ý£¬ÈçÂö³åÎ²Êý 
 108   2                      if ( GStr_Flag.ucSystem & F_PWRUN )     
 109   2                      {
 110   3                              ApiPwOff_DataSave();
 111   3                              GStr_Flag.ucSystem &= ~F_PWRUN ;
 112   3                      }
 113   2                      
 114   2                      // @brief ---- ÑÓÊ±ÅÐ¶ÏÒ»ÏÂÊÇ·ñÕæµÄµôµç£¬Èç¹ûÕæµÄµôµçÁË¾ÍÔÚÕâÀï½øÈëµÍ¹¦ºÄ 
 115   2                      for ( V_ucCnti = 0; V_ucCnti<10; V_ucCnti++ )
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 3   

 116   2                      {
 117   3                              LibPub_DelayNms(10);
 118   3                              if ( _FALSE == ApiPwOn_PowerChk() )     ///* ÔÙÅÐ¶ÏÒ»ÏÂµôµçÇé¿ö *///
 119   3                              {
 120   4                                      GStr_Flag.ucSystem = GStr_Flag.ucSystem | F_PWOFF_NOW;
 121   4                                      ApiPwOff_EnterSleep();
 122   4                              }
 123   3                              WDT_Clr();
 124   3                      }
 125   2                      
 126   2                      // @brief ---- µ½Õâ»¹Ã»ÓÐ½øÈëµÍ¹¦ºÄ£¬ÄÇ¾ÍÔÙÅäÖÃÒ»ÏÂ 
 127   2                      if ( (GStr_Flag.ucSystem & F_PWOFF_NOW) != F_PWOFF_NOW )        
 128   2                      {
 129   3                              GStr_Flag.ucSystem &= (~F_PWOFF_NOW);
 130   3                              GStr_Flag.ucSystem |= F_PWON;                   ///* ÖÃÉÏµç±êÖ¾ */// 
 131   3                      }
 132   2                      
 133   2                      // @brief ---- µ½Õâ»¹Ã»ÓÐ½øÈëµÍ¹¦ºÄ£¬ÄÇ¾ÍÔÙÅäÖÃÒ»ÏÂ 
 134   2                      ApiPwOn_SysTemInit();
 135   2                      
 136   2              }
 137   1              
 138   1              /* Èç¹ûÅÜµ½ÕâÀï£¬Õâ±íÊ¾ÒÑ¾­ÉÏµçÔËÐÐÁË£¬ÖÃÉÏµçÔËÐÐ±êÖ¾ */
 139   1              if ( 0 == ( GStr_Flag.ucSystem & F_PWRUN ) )
 140   1              {
 141   2                      GStr_Flag.ucSystem |= F_PWRUN ;
 142   2              }
 143   1      }
 144          
 145          /*------------------------------------------------------------------------------------------------------*/
 146          /**
 147           *  @brief    µôµç¹Ø±ÕÍâÉè¼°¹¦ÄÜÄ£¿é
 148           *
 149           *  @return   xx
 150           *
 151           *  @note     xx
 152           *
 153           */
 154          /*------------------------------------------------------------------------------------------------------*/
 155           
 156          static void ApiPwOff_CloseDevices(void)
 157          {
 158   1              /* ¹Ø±ÕÀ¶ÑÀÄ£¿é¹©µç£¨¼ì²âµôµç¾ÍÖ±½ÓÍ£Ö¹¹©µç£© */
 159   1              ApiPwOff_BLEPOWERInit();
 160   1      
 161   1              /* ¹Ø±Õ¶¨Ê±Æ÷ */
 162   1              ApiPwOff_McuTimerInit();
 163   1              
 164   1              /* ¹Ø±Õ´®¿Ú */
 165   1              ApiPwOff_McuUartInit( );
 166   1              
 167   1              /* ¹Ø±Õ¼ÆÁ¿ */
 168   1              ApiPwOff_EmuInit( );
 169   1              
 170   1              /* ¹Ø±ÕÏÔÊ¾ */
 171   1              ApiPwOff_McuDispInit( );
 172   1      
 173   1              
 174   1      }
 175          
 176          /*------------------------------------------------------------------------------------------------------*/
 177          /**
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 4   

 178           *  @brief    µôµçÅäÖÃ
 179           *
 180           *  @return   xx
 181           *
 182           *  @note     xx
 183           *
 184           */
 185          /*------------------------------------------------------------------------------------------------------*/
 186           
 187          static void ApiPwOff_McuLPDInit(void)
 188          {
 189   1              PASLO_POWER_SWITCH_ON();
 190   1          LPDCON1 = 0x00;/*¹ØµôµÍµçÑ¹¼ì²â*/
 191   1      
 192   1          PASLO_POWER_SWITCH_ON();
 193   1              LPDCON2 = 0x00;/*¹ØµôµÍµçÑ¹¼ì²â*/ 
 194   1              
 195   1          PASLO_POWER_SWITCH_ON();;
 196   1                      #if(METER_TYPE==METER_TYPE_DDSYU666)   //µ¼¹ì±íµÍµçÑ¹¼ì²âÎª3.00V
 197   1                              LPDCON2 |= 0xA3;    //µÍµçÑ¹¼ì²â£¬3.00V
 198   1                      #else
                                      LPDCON2 |= 0xA9;    //µ¥ÈýÏà±íÓ¦ÅäÖÃÎª 0xA4  
                              #endif
 201   1              
 202   1              PASLO_POWER_SWITCH_ON();
 203   1                      #if(METER_TYPE==METER_TYPE_DDSYU666)   //µ¼¹ì±í½ûÖ¹¹©µç×Ô¶¯ÇÐ»»
 204   1                              PWRCON1 = 1;
 205   1                      #else
                                      PWRCON1 = 0;                            //µ¥ÈýÏà±íÒ²Ó¦ÅäÖÃÎª½ûÖ¹¹©µç×Ô¶¯ÇÐ»»
                              #endif
 208   1              
 209   1          PASLO_POWER_SWITCH_ON();
 210   1          PWRCON2 = 0x00;
 211   1              
 212   1          PASLO_POWER_SWITCH_ON();
 213   1                      #if(METER_TYPE==METER_TYPE_DDSYU666)   //µ¼¹ì±í½ûÖ¹¹©µç×Ô¶¯ÇÐ»»
 214   1                              PWRCON1 = 1;
 215   1                      #else
                                      PWRCON1 = 0;                            //µ¥ÈýÏà±íÒ²Ó¦ÅäÖÃÎª½ûÖ¹¹©µç×Ô¶¯ÇÐ»»
                              #endif
 218   1      }
 219          
 220          /*------------------------------------------------------------------------------------------------------*/
 221          /**
 222           *  @brief    µôµçÊý¾Ý´æ´¢£¬Ö÷ÒªÊÇE2 
 223           *
 224           *  @return   xx
 225           *
 226           *  @note     xx
 227           *
 228           */
 229          /*------------------------------------------------------------------------------------------------------*/
 230           
 231          static void ApiPwOff_DataSave(void)
 232          {
 233   1              uchar8  V_ucTempBuff[4];
 234   1              
 235   1                      // Ê£Óà½ð¶î¡¢Í¸Ö§½ð¶î±£´æÒ»ÏÂ
 236   1              GStr_Money.usCRC16 = LibPub_CRC16_CCITT(&GStr_Money.ucaRemainMoney[0], GStr_MONEY_Type_LEN-2);
 237   1              DrvE2p_WriteData( LIB_E2P_Money_Addr,&GStr_Money.ucaRemainMoney[0] ,GStr_MONEY_Type_LEN);///Ð´Ê£Óà½ð¶î¡¢Í
             -¸Ö§½ð¶îµ½Ö÷Êý¾ÝÇø£¬²»Ð´±¸·Ý
 238   1              
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 5   

 239   1              // Âö³åÎ²Êý±£´æÒ»ÏÂ
 240   1              V_ucTempBuff[0] =  GStr_EnergyPulseFw.ucaPulseRemain[0];
 241   1              V_ucTempBuff[1] = ~GStr_EnergyPulseFw.ucaPulseRemain[0];
 242   1              V_ucTempBuff[2] =  GStr_EnergyPulseBk.ucaPulseRemain[1];
 243   1              V_ucTempBuff[3] = ~GStr_EnergyPulseFw.ucaPulseRemain[1]; 
 244   1              LibPub_WriteDataToE2prom( LIB_E2P_ENERGY_DECPULSE_WS, 0, V_ucTempBuff );        ///* Âö³åÎ²Êý´æÒ»ÏÂ£¬ÆäËûµÄ¾Í²»¹
             -ÜÁË *///
 245   1              
 246   1              
 247   1              
 248   1              /* ²¹³ä´úÂë */
 249   1      }
 250          
 251          /*------------------------------------------------------------------------------------------------------*/
 252          /**
 253           *  @brief    ½øÈëµÍ¹¦ºÄ  
 254           *
 255           *  @return   xx
 256           *
 257           *  @note     xx
 258           *
 259           */
 260          /*------------------------------------------------------------------------------------------------------*/
 261           
 262          static void ApiPwOff_EnterSleep(void)
 263          {
 264   1              /* ÅäÖÃ¿ÚÏß */
 265   1              ApiPwOff_PeripheralInit();
 266   1              
 267   1              /* ¹Ø±Õ´ò¿ªµÄÄ£¿é */
 268   1              ApiPwOff_CloseDevices();
 269   1               
 270   1              /* Êý¾Ý´¦Àí */  
 271   1              ApiPwOff_DataProcess();
 272   1              
 273   1              /* ¹Ø±ÕLDO¼ì²â */
 274   1              ApiPwOff_McuLPDInit();
 275   1              
 276   1              /* ÅäÖÃÍ£µçÏÔÊ¾ */              
 277   1              ApiPwOff_Display(); 
 278   1              
 279   1              /* ÅäÖÃÏµÍ³Ê±ÖÓ*/               
 280   1              ApiPwOff_SysClkInit();
 281   1              
 282   1              /* ½øÈësleepÄ£Ê½ */
 283   1              ApiPwOff_McuEnterSleep();
 284   1              
 285   1              
 286   1              
 287   1      }
 288          /*------------------------------------------------------------------------------------------------------*/
 289          /**
 290           *  @brief    µôµçÍâÉèÅäÖÃ    
 291           *
 292           *  @return   xx
 293           *
 294           *  @note     xx
 295           *
 296           */
 297          /*------------------------------------------------------------------------------------------------------*/
 298           
 299          static void ApiPwOff_PeripheralInit(void)
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 6   

 300          {
 301   1              ApiPwOff_McuGpioInit();
 302   1      }
 303          
 304          
 305          /*------------------------------------------------------------------------------------------------------*/
 306          /**
 307           *  @brief    µôµçÊý¾Ý´¦Àí    
 308           *
 309           *  @return   xx
 310           *
 311           *  @note     xx
 312           *
 313           */
 314          /*------------------------------------------------------------------------------------------------------*/
 315           
 316          static void ApiPwOff_DataProcess(void)
 317          {
 318   1              
 319   1      }
 320          
 321          
 322          /*------------------------------------------------------------------------------------------------------*/
 323          /**
 324           *  @brief    µôµçÏÔÊ¾´¦Àí     
 325           *
 326           *  @return   xx
 327           *
 328           *  @note     xx
 329           *
 330           */
 331          /*------------------------------------------------------------------------------------------------------*/
 332           
 333          static void ApiPwOff_Display(void)
 334          {
 335   1              
 336   1      }
 337          
 338          /*------------------------------------------------------------------------------------------------------*/
 339          /**
 340           *  @brief    µôµçÊ±ÖÓ´¦Àí     
 341           *
 342           *  @return   xx
 343           *
 344           *  @note     xx
 345           *
 346           */
 347          /*------------------------------------------------------------------------------------------------------*/
 348           
 349          static void ApiPwOff_SysClkInit(void)
 350          {
 351   1              
 352   1      }
 353          
 354          /*------------------------------------------------------------------------------------------------------*/
 355          /**
 356           *  @brief    µôµç¹Ø±ÕÀ¶ÑÀÄ£¿é¹©µç   
 357           *
 358           *  @return   xx
 359           *
 360           *  @note     xx
 361           *
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 7   

 362           */
 363          /*------------------------------------------------------------------------------------------------------*/
 364          static void ApiPwOff_BLEPOWERInit(void)
 365          {
 366   1              BLE_POWER_OFF();
 367   1      }
 368          
 369          /*------------------------------------------------------------------------------------------------------*/
 370          /**
 371           *  @brief    µôµçÅäÖÃ¶¨Ê±Æ÷£¨¹Ø±Õ¶¨Ê±Æ÷£©     
 372           *
 373           *  @return   xx
 374           *
 375           *  @note     xx
 376           *
 377           */
 378          /*------------------------------------------------------------------------------------------------------*/
 379          static void ApiPwOff_McuTimerInit(void)
 380          {
 381   1              TCON &= ~TCON_TF0;      // Çå³ý±êÖ¾ 
 382   1              IEN0 &= ~IEN0_ET0;      // ½ûÖ¹ÖÐ¶Ï
 383   1              STOP_TR0();
 384   1      }
 385          
 386          /*------------------------------------------------------------------------------------------------------*/
 387          /**
 388           *  @brief    µôµçÅäÖÃGPIO     
 389           *
 390           *  @return   xx
 391           *
 392           *  @note     xx
 393           *
 394           */
 395          /*------------------------------------------------------------------------------------------------------*/
 396          #if( METER_TYPE == METER_TYPE_DDSYU666 )
 397          void ApiPwOff_McuGpioInit(void)
 398          {
 399   1      // @brief P0¿Ú ×Ü¹²4¸ù¿ÚÏß p0.1/2/3/7  Lamp/RelayB/RelayA/Alarm
 400   1              // ·½Ïò
 401   1              GPIO_IOCFG_P0_DIR_I( 1);        
 402   1              GPIO_IOCFG_P0_DIR_I( 2);        // 01 ÌøÕ¢ 10 ºÏÕ¢
 403   1              GPIO_IOCFG_P0_DIR_I( 3);
 404   1              GPIO_IOCFG_P0_DIR_I( 7);
 405   1              // ÉÏÀ­     0        
 406   1              GPIO_IOCFG_P0_PUP_F( 1);
 407   1              GPIO_IOCFG_P0_PUP_F( 2);
 408   1              GPIO_IOCFG_P0_PUP_F( 3);
 409   1              GPIO_IOCFG_P0_PUP_F( 7);
 410   1              // ×´Ì¬     0        
 411   1              GPIO_IOCFG_P0_SET_0( 1);        // ±³¹â
 412   1              GPIO_IOCFG_P0_SET_0( 2);
 413   1              GPIO_IOCFG_P0_SET_0( 3);
 414   1              GPIO_IOCFG_P0_SET_0( 7);        // À­Õ¢µÆ
 415   1              // Êä³öÄ£Ê½Ñ¡Ôñ      
 416   1              GPIO_IOCFG_P0_OUT_C( 1);        // ¿ªÆôÍÆÍì
 417   1              GPIO_IOCFG_P0_OUT_C( 2);
 418   1              GPIO_IOCFG_P0_OUT_C( 3);
 419   1              GPIO_IOCFG_P0_OUT_C( 7);
 420   1              // ¶Ë¿ÚÊä³ö¸ßÄÜÁ¦¼õÈõÄ£Ê½Ñ¡Ôñ
 421   1              GPIO_IOCFG_P0_OUTH_WEAKEN( 1);
 422   1              GPIO_IOCFG_P0_OUTH_WEAKEN( 2);
 423   1              GPIO_IOCFG_P0_OUTH_WEAKEN( 3);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 8   

 424   1              GPIO_IOCFG_P0_OUTH_WEAKEN( 7);
 425   1              // ÊäÈëÉÏÀ­Ä£Ê½Ñ¡Ôñ¼Ä´æÆ÷
 426   1              GPIO_IOCFG_P0_PUPM_SWITCH( 1);
 427   1              GPIO_IOCFG_P0_PUPM_SWITCH( 2);
 428   1              GPIO_IOCFG_P0_PUPM_SWITCH( 3);
 429   1              GPIO_IOCFG_P0_PUPM_SWITCH( 7);
 430   1              // ¶Ë¿ÚÊý¾ÝÀ´Ô´Ñ¡Ôñ¼Ä´æÆ÷
 431   1              GPIO_IOCFG_P0_INM_DATA( 1);
 432   1              GPIO_IOCFG_P0_INM_DATA( 2);
 433   1              GPIO_IOCFG_P0_INM_DATA( 3);
 434   1              GPIO_IOCFG_P0_INM_DATA( 7);
 435   1      
 436   1      
 437   1      // @brief P1¿Ú ×Ü¹²1¸ù¿ÚÏß p1.4  PFout
 438   1              // ·½Ïò
 439   1      //      GPIO_IOCFG_P1_DIR_I( 0);
 440   1      //      GPIO_IOCFG_P1_DIR_I( 3);
 441   1              GPIO_IOCFG_P1_DIR_I( 4);
 442   1              // ÉÏÀ­     1        
 443   1      //      GPIO_IOCFG_P1_PUP_F( 0);
 444   1      //      GPIO_IOCFG_P1_PUP_F( 3);
 445   1              GPIO_IOCFG_P1_PUP_F( 4);
 446   1              // ×´Ì¬     1        
 447   1      //      GPIO_IOCFG_P1_SET_1( 0);
 448   1      //      GPIO_IOCFG_P1_SET_1( 3); 
 449   1              GPIO_IOCFG_P1_SET_0( 4); // ÉÏµç±ÜÃâÂö³åµÆÁÁ£¬ÉèÖÃÎªÊäÈë
 450   1      
 451   1      //// @brief P2¿Ú ×Ü¹²3¸ù¿ÚÏß p2.2/6/7   DISPKEY / 485RXD / 485TXD
 452   1      //      GPIO_IOCFG_P2_DIR_I( 2);
 453   1      //      GPIO_IOCFG_P2_DIR_I( 6);
 454   1      //      GPIO_IOCFG_P2_DIR_O( 7);
 455   1      //      // ÉÏÀ­     2
 456   1      //      GPIO_IOCFG_P2_PUP_F( 2);
 457   1      //      GPIO_IOCFG_P2_PUP_F( 6);
 458   1      //      GPIO_IOCFG_P2_PUP_F( 7);
 459   1      //      // ×´Ì¬     2        
 460   1      //      GPIO_IOCFG_P2_SET_0( 2);
 461   1      //      GPIO_IOCFG_P2_SET_0( 6);
 462   1      //      GPIO_IOCFG_P2_SET_0( 7);
 463   1      //      // Êä³öÄ£Ê½Ñ¡Ôñ      
 464   1      //      GPIO_IOCFG_P2_OUT_N( 2);
 465   1      //      GPIO_IOCFG_P2_OUT_N( 6);
 466   1      //      GPIO_IOCFG_P2_OUT_N( 7);
 467   1      //      // ¶Ë¿ÚÊä³ö¸ßÄÜÁ¦¼õÈõÄ£Ê½Ñ¡Ôñ
 468   1      //      GPIO_IOCFG_P2_OUTH_WEAKEN( 2);
 469   1      //      GPIO_IOCFG_P2_OUTH_WEAKEN( 6);
 470   1      //      GPIO_IOCFG_P2_OUTH_WEAKEN( 7);
 471   1      //      // ÊäÈëÉÏÀ­Ä£Ê½Ñ¡Ôñ¼Ä´æÆ÷  
 472   1      //      GPIO_IOCFG_P2_PUPM_SWITCH( 2);
 473   1      //      GPIO_IOCFG_P2_PUPM_SWITCH( 6);
 474   1      //      GPIO_IOCFG_P2_PUPM_SWITCH( 7);
 475   1      //      // ¶Ë¿ÚÊý¾ÝÀ´Ô´Ñ¡Ôñ¼Ä´æÆ÷
 476   1      //      GPIO_IOCFG_P2_INM_DATA( 2);
 477   1      //      GPIO_IOCFG_P2_INM_DATA( 6);
 478   1      //      GPIO_IOCFG_P2_INM_DATA( 7);
 479   1      
 480   1      // @brief P3¿Ú ×Ü¹²3¸ù¿ÚÏß p3.0/1/2/3/4  BT_RXD / BT_TXD / KEY1/ SCL / SDA
 481   1              GPIO_IOCFG_P3_DIR_I( 0);
 482   1              GPIO_IOCFG_P3_DIR_I( 1);
 483   1              GPIO_IOCFG_P3_DIR_I( 2);
 484   1              GPIO_IOCFG_P3_DIR_I( 3);
 485   1              GPIO_IOCFG_P3_DIR_I( 4);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 9   

 486   1              // ÉÏÀ­     3        
 487   1              GPIO_IOCFG_P3_PUP_F( 0);
 488   1              GPIO_IOCFG_P3_PUP_F( 1);
 489   1              GPIO_IOCFG_P3_PUP_F( 2);
 490   1              GPIO_IOCFG_P3_PUP_F( 3);
 491   1              GPIO_IOCFG_P3_PUP_F( 4);
 492   1              // ×´Ì¬     3        
 493   1              GPIO_IOCFG_P3_SET_0( 0);
 494   1              GPIO_IOCFG_P3_SET_0( 1);
 495   1              GPIO_IOCFG_P3_SET_0( 2);        
 496   1              GPIO_IOCFG_P3_SET_0( 3);         
 497   1              GPIO_IOCFG_P3_SET_0( 4);         
 498   1              // Êä³öÄ£Ê½Ñ¡Ôñ
 499   1              GPIO_IOCFG_P3_OUT_N( 0);
 500   1              GPIO_IOCFG_P3_OUT_N( 1);
 501   1              GPIO_IOCFG_P3_OUT_N( 2);
 502   1              GPIO_IOCFG_P3_OUT_N( 3);
 503   1              GPIO_IOCFG_P3_OUT_N( 4);
 504   1      
 505   1      // @brief P4¿Ú ×Ü¹²4¸ù¿ÚÏß p4.4/5/6/7 SEG1/SEG2/SEG3/SEG4
 506   1              GPIO_IOCFG_P4_DIR_I( 4);
 507   1              GPIO_IOCFG_P4_DIR_I( 5);
 508   1              GPIO_IOCFG_P4_DIR_I( 6);
 509   1              GPIO_IOCFG_P4_DIR_I( 7);
 510   1              // ÉÏÀ­     4        
 511   1              GPIO_IOCFG_P4_PUP_F( 4);
 512   1              GPIO_IOCFG_P4_PUP_F( 5);
 513   1              GPIO_IOCFG_P4_PUP_F( 6);
 514   1              GPIO_IOCFG_P4_PUP_F( 7);
 515   1              // ×´Ì¬     4        
 516   1              GPIO_IOCFG_P4_SET_0( 4);
 517   1              GPIO_IOCFG_P4_SET_0( 5);
 518   1              GPIO_IOCFG_P4_SET_0( 6);
 519   1              GPIO_IOCFG_P4_SET_0( 7);
 520   1      
 521   1      // @brief P5¿Ú ×Ü¹²8¸ù¿ÚÏß p5.0/1/2/3/4/5/6/7   BT_CTL / BT_ATEN / SEG5 / SEG8 / SEG9(DCK) / SEG10(TDI) /SEG
             -11(TMS) / SEG12(TDO)
 522   1              GPIO_IOCFG_P5_DIR_I( 0);
 523   1              GPIO_IOCFG_P5_DIR_I( 1);
 524   1              GPIO_IOCFG_P5_DIR_I( 2);
 525   1              GPIO_IOCFG_P5_DIR_I( 3);
 526   1              GPIO_IOCFG_P5_DIR_I( 4);
 527   1              GPIO_IOCFG_P5_DIR_I( 5);
 528   1              GPIO_IOCFG_P5_DIR_I( 6);
 529   1              GPIO_IOCFG_P5_DIR_I( 7);
 530   1              // ÉÏÀ­     5        
 531   1              GPIO_IOCFG_P5_PUP_F( 0);
 532   1              GPIO_IOCFG_P5_PUP_F( 1);
 533   1              GPIO_IOCFG_P5_PUP_F( 2);
 534   1              GPIO_IOCFG_P5_PUP_F( 3);
 535   1              GPIO_IOCFG_P5_PUP_F( 4);
 536   1              GPIO_IOCFG_P5_PUP_F( 5);
 537   1              GPIO_IOCFG_P5_PUP_F( 6);
 538   1              GPIO_IOCFG_P5_PUP_F( 7);
 539   1              // ×´Ì¬     5        
 540   1              GPIO_IOCFG_P5_SET_0( 0);
 541   1              GPIO_IOCFG_P5_SET_0( 1);
 542   1              GPIO_IOCFG_P5_SET_0( 2);
 543   1              GPIO_IOCFG_P5_SET_0( 3);
 544   1              GPIO_IOCFG_P5_SET_0( 4);
 545   1              GPIO_IOCFG_P5_SET_0( 5);
 546   1              GPIO_IOCFG_P5_SET_0( 6);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 10  

 547   1              GPIO_IOCFG_P5_SET_0( 7);
 548   1      
 549   1      //// @brief P6¿Ú ×Ü¹²7¸ù¿ÚÏß p6.1/2/3/4/5/6/7   SEG8/ SEG7/ SEG6/ SEG5/ SEG4/ SEG3/ SEG2
 550   1      //      GPIO_IOCFG_P6_DIR_O( 1);
 551   1      //      GPIO_IOCFG_P6_DIR_O( 2);
 552   1      //      GPIO_IOCFG_P6_DIR_O( 3);
 553   1      //      GPIO_IOCFG_P6_DIR_O( 4);
 554   1      //      GPIO_IOCFG_P6_DIR_O( 5);
 555   1      //      GPIO_IOCFG_P6_DIR_O( 6);
 556   1      //      GPIO_IOCFG_P6_DIR_O( 7);
 557   1      //      // ÉÏÀ­     6        
 558   1      //      GPIO_IOCFG_P6_PUP_F( 1);
 559   1      //      GPIO_IOCFG_P6_PUP_F( 2);
 560   1      //      GPIO_IOCFG_P6_PUP_F( 3);
 561   1      //      GPIO_IOCFG_P6_PUP_F( 4);
 562   1      //      GPIO_IOCFG_P6_PUP_F( 5);
 563   1      //      GPIO_IOCFG_P6_PUP_F( 6);
 564   1      //      GPIO_IOCFG_P6_PUP_F( 7);
 565   1      //      // ×´Ì¬     6        
 566   1      //      GPIO_IOCFG_P6_SET_0( 1);
 567   1      //      GPIO_IOCFG_P6_SET_0( 2);
 568   1      //      GPIO_IOCFG_P6_SET_0( 3);
 569   1      //      GPIO_IOCFG_P6_SET_0( 4);
 570   1      //      GPIO_IOCFG_P6_SET_0( 5);
 571   1      //      GPIO_IOCFG_P6_SET_0( 6);
 572   1      //      GPIO_IOCFG_P6_SET_0( 7); 
 573   1      
 574   1      // @brief P7¿Ú ×Ü¹²5¸ù¿ÚÏß p7.5/6/7/ Êý¾ÝÊÖ²á¼Ä´æÆ÷ÀïÏÔÊ¾ÓÐ5¸ö£¬µ«Êµ¼Ê·â×°Ö»ÓÐ3¸ö SEG13/ SEG14/ SEG15
 575   1              GPIO_IOCFG_P7_DIR_I( 5);
 576   1              GPIO_IOCFG_P7_DIR_I( 6);
 577   1              GPIO_IOCFG_P7_DIR_I( 7);
 578   1              // ÉÏÀ­     7        
 579   1              GPIO_IOCFG_P7_PUP_F( 5);
 580   1              GPIO_IOCFG_P7_PUP_F( 6);
 581   1              GPIO_IOCFG_P7_PUP_F( 7);
 582   1              // ×´Ì¬     7        
 583   1              GPIO_IOCFG_P7_SET_0( 5);
 584   1              GPIO_IOCFG_P7_SET_0( 6);
 585   1              GPIO_IOCFG_P7_SET_0( 7);
 586   1      
 587   1      //// @brief P8¿Ú ×Ü¹²2¸ù¿ÚÏß p8.6/7 SDA/ SCL
 588   1      //      GPIO_IOCFG_P8_DIR_O( 6);
 589   1      //      GPIO_IOCFG_P8_DIR_O( 7);
 590   1      //      // ÉÏÀ­     8        
 591   1      //      GPIO_IOCFG_P8_PUP_F( 6);
 592   1      //      GPIO_IOCFG_P8_PUP_F( 7);
 593   1      //      // ×´Ì¬     8        
 594   1      //      GPIO_IOCFG_P8_SET_1( 6);
 595   1      //      GPIO_IOCFG_P8_SET_1( 7); 
 596   1      
 597   1      // @brief P9¿Ú ×Ü¹²8¸ù¿ÚÏß p9.2/3/4/5/6/7   COM1-COM6 /  
 598   1              GPIO_IOCFG_P9_DIR_I( 2);
 599   1              GPIO_IOCFG_P9_DIR_I( 3);
 600   1              GPIO_IOCFG_P9_DIR_I( 4);
 601   1              GPIO_IOCFG_P9_DIR_I( 5);
 602   1              GPIO_IOCFG_P9_DIR_I( 6);
 603   1              GPIO_IOCFG_P9_DIR_I( 7);        
 604   1              // ÉÏÀ­     9         
 605   1              GPIO_IOCFG_P9_PUP_F( 2);
 606   1              GPIO_IOCFG_P9_PUP_F( 3);
 607   1              GPIO_IOCFG_P9_PUP_F( 4);
 608   1              GPIO_IOCFG_P9_PUP_F( 5);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 11  

 609   1              GPIO_IOCFG_P9_PUP_F( 6);
 610   1              GPIO_IOCFG_P9_PUP_F( 7);
 611   1              // ×´Ì¬     9         
 612   1              GPIO_IOCFG_P9_SET_0( 2);
 613   1              GPIO_IOCFG_P9_SET_0( 3); 
 614   1              GPIO_IOCFG_P9_SET_0( 4);
 615   1              GPIO_IOCFG_P9_SET_0( 5); 
 616   1              GPIO_IOCFG_P9_SET_0( 6);
 617   1              GPIO_IOCFG_P9_SET_0( 7); 
 618   1      
 619   1      } 
 620          
 621          #else
              static void ApiPwOff_McuGpioInit(void)
              {
                      // @brief P0¿Ú ×Ü¹²4¸ù¿ÚÏß p0.1/2/3/7  Relay1/Relay2/Null/Null
                      // ·½Ïò
                      GPIO_IOCFG_P0_DIR_I( 1);// 01 ÌøÕ¢ 10 ºÏÕ¢
                      GPIO_IOCFG_P0_DIR_I( 2);
                      GPIO_IOCFG_P0_DIR_I( 3);
                      GPIO_IOCFG_P0_DIR_I( 7);
                      // ÉÏÀ­
                      GPIO_IOCFG_P0_PUP_F( 1);
                      GPIO_IOCFG_P0_PUP_F( 2);
                      GPIO_IOCFG_P0_PUP_F( 3);
                      GPIO_IOCFG_P0_PUP_F( 7);
                      // ×´Ì¬
                      GPIO_IOCFG_P0_SET_0( 1);
                      GPIO_IOCFG_P0_SET_0( 2);
                      GPIO_IOCFG_P0_SET_0( 3);
                      GPIO_IOCFG_P0_SET_0( 7);
                      // Êä³öÄ£Ê½Ñ¡Ôñ
                      GPIO_IOCFG_P0_OUT_N( 1);        // ¿ªÆôÍÆÍì
                      GPIO_IOCFG_P0_OUT_N( 2);
                      GPIO_IOCFG_P0_OUT_N( 3);
                      GPIO_IOCFG_P0_OUT_N( 7);
                      // ¶Ë¿ÚÊä³ö¸ßÄÜÁ¦¼õÈõÄ£Ê½Ñ¡Ôñ
                      GPIO_IOCFG_P0_OUTH_WEAKEN( 1);
                      GPIO_IOCFG_P0_OUTH_WEAKEN( 2);
                      GPIO_IOCFG_P0_OUTH_WEAKEN( 3);
                      GPIO_IOCFG_P0_OUTH_WEAKEN( 7);
                      // ÊäÈëÉÏÀ­Ä£Ê½Ñ¡Ôñ¼Ä´æÆ÷
                      GPIO_IOCFG_P0_PUPM_SWITCH( 1);
                      GPIO_IOCFG_P0_PUPM_SWITCH( 2);
                      GPIO_IOCFG_P0_PUPM_SWITCH( 3);
                      GPIO_IOCFG_P0_PUPM_SWITCH( 7);
                      // ¶Ë¿ÚÊý¾ÝÀ´0Ô´Ñ¡Ôñ¼Ä´æÆ÷
                      GPIO_IOCFG_P0_INM_DATA( 1);
                      GPIO_IOCFG_P0_INM_DATA( 2);
                      GPIO_IOCFG_P0_INM_DATA( 3);
                      GPIO_IOCFG_P0_INM_DATA( 7);
              
              
              // @brief P1¿Ú ×Ü¹²3¸ù¿ÚÏß p1.0/3/4      Null/LED_yellow/PFout
                      // ·½Ïò
                      GPIO_IOCFG_P1_DIR_I( 0);
                      GPIO_IOCFG_P1_DIR_I( 3);
                      GPIO_IOCFG_P1_DIR_I( 4);
                      // ÉÏÀ­     1        
                      GPIO_IOCFG_P1_PUP_F( 0);
                      GPIO_IOCFG_P1_PUP_F( 3);
                      GPIO_IOCFG_P1_PUP_F( 4);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 12  

                      // ×´Ì¬     1        
                      GPIO_IOCFG_P1_SET_0( 0);
                      GPIO_IOCFG_P1_SET_0( 3);
                      GPIO_IOCFG_P1_SET_0( 4);
              
              // @brief P2¿Ú ×Ü¹²3¸ù¿ÚÏß p2.2/6/7     DISPKEY / 485RXD / 485TXD
                      GPIO_IOCFG_P2_DIR_I( 2);
                      GPIO_IOCFG_P2_DIR_I( 6);
                      GPIO_IOCFG_P2_DIR_I( 7);
                      // ÉÏÀ­     2        
                      GPIO_IOCFG_P2_PUP_F( 2);
                      GPIO_IOCFG_P2_PUP_F( 6);
                      GPIO_IOCFG_P2_PUP_F( 7);
                      // ×´Ì¬     2        
                      GPIO_IOCFG_P2_SET_0( 2);
                      GPIO_IOCFG_P2_SET_0( 6);
                      GPIO_IOCFG_P2_SET_0( 7);
                      // Êä³öÄ£Ê½Ñ¡Ôñ      
                      GPIO_IOCFG_P2_OUT_N( 2);
                      GPIO_IOCFG_P2_OUT_N( 6);
                      GPIO_IOCFG_P2_OUT_N( 7);
                      // ¶Ë¿ÚÊä³ö¸ßÄÜÁ¦¼õÈõÄ£Ê½Ñ¡Ôñ
                      GPIO_IOCFG_P2_OUTH_WEAKEN( 2);
                      GPIO_IOCFG_P2_OUTH_WEAKEN( 6);
                      GPIO_IOCFG_P2_OUTH_WEAKEN( 7);
                      // ÊäÈëÉÏÀ­Ä£Ê½Ñ¡Ôñ¼Ä´æÆ÷
                      GPIO_IOCFG_P2_PUPM_SWITCH( 2);
                      GPIO_IOCFG_P2_PUPM_SWITCH( 6);
                      GPIO_IOCFG_P2_PUPM_SWITCH( 7);
                      // ¶Ë¿ÚÊý¾ÝÀ´Ô´Ñ¡Ôñ¼Ä´æÆ÷
                      GPIO_IOCFG_P2_INM_DATA( 2);
                      GPIO_IOCFG_P2_INM_DATA( 6);
                      GPIO_IOCFG_P2_INM_DATA( 7);
              
              // @brief P3¿Ú ×Ü¹²3¸ù¿ÚÏß p3.0/1/4/5/6  BT_RXD / BT_TXD / BT_RST/ BT_ATEN / BT_CTL
                      GPIO_IOCFG_P3_DIR_I( 0);
                      GPIO_IOCFG_P3_DIR_I( 1);
                      GPIO_IOCFG_P3_DIR_I( 4);
                      GPIO_IOCFG_P3_DIR_I( 5);
                      GPIO_IOCFG_P3_DIR_I( 6);
                      // ÉÏÀ­     3        
                      GPIO_IOCFG_P3_PUP_F( 0);
                      GPIO_IOCFG_P3_PUP_F( 1);
                      GPIO_IOCFG_P3_PUP_F( 4);
                      GPIO_IOCFG_P3_PUP_F( 5);
                      GPIO_IOCFG_P3_PUP_F( 6);
                      // ×´Ì¬     3        
                      GPIO_IOCFG_P3_SET_0( 0);
                      GPIO_IOCFG_P3_SET_0( 1);
                      GPIO_IOCFG_P3_SET_1( 4);        // 0¸´Î»£¬1²»¸´Î»
                      GPIO_IOCFG_P3_SET_0( 5);
                      GPIO_IOCFG_P3_SET_0( 6);        // 0¹©µç£¬1²»¹©µç
                      // Êä³öÄ£Ê½Ñ¡Ôñ
                      GPIO_IOCFG_P3_OUT_N( 0);
                      GPIO_IOCFG_P3_OUT_N( 1);
                      GPIO_IOCFG_P3_OUT_N( 4);
                      GPIO_IOCFG_P3_OUT_N( 5);
                      GPIO_IOCFG_P3_OUT_N( 6);
              
              // @brief P4¿Ú ×Ü¹²4¸ù¿ÚÏß p4.4/5/6/7 SEG9/SEG10/SEG11/SEG12
                      GPIO_IOCFG_P4_DIR_I( 4);
                      GPIO_IOCFG_P4_DIR_I( 5);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 13  

                      GPIO_IOCFG_P4_DIR_I( 6);
                      GPIO_IOCFG_P4_DIR_I( 7);
                      // ÉÏÀ­     4        
                      GPIO_IOCFG_P4_PUP_F( 4);
                      GPIO_IOCFG_P4_PUP_F( 5);
                      GPIO_IOCFG_P4_PUP_F( 6);
                      GPIO_IOCFG_P4_PUP_F( 7);
                      // ×´Ì¬     4        
                      GPIO_IOCFG_P4_SET_0( 4);
                      GPIO_IOCFG_P4_SET_0( 5);
                      GPIO_IOCFG_P4_SET_0( 6);
                      GPIO_IOCFG_P4_SET_0( 7);
              
              // @brief P5¿Ú ×Ü¹²8¸ù¿ÚÏß p5.0/1/2/3/4/5/6/7   SEG13 / SEG14 / I_J / NULL / DCK / TDI /TMS / TDO
                      GPIO_IOCFG_P5_DIR_I( 0);
                      GPIO_IOCFG_P5_DIR_I( 1);
                      GPIO_IOCFG_P5_DIR_I( 2);
                      GPIO_IOCFG_P5_DIR_I( 3);
                      GPIO_IOCFG_P5_DIR_I( 4);
                      GPIO_IOCFG_P5_DIR_I( 5);
                      GPIO_IOCFG_P5_DIR_I( 6);
                      GPIO_IOCFG_P5_DIR_I( 7);
                      // ÉÏÀ­     5        
                      GPIO_IOCFG_P5_PUP_F( 0);
                      GPIO_IOCFG_P5_PUP_F( 1);
                      GPIO_IOCFG_P5_PUP_F( 2);
                      GPIO_IOCFG_P5_PUP_F( 3);
                      GPIO_IOCFG_P5_PUP_F( 4);
                      GPIO_IOCFG_P5_PUP_F( 5);
                      GPIO_IOCFG_P5_PUP_F( 6);
                      GPIO_IOCFG_P5_PUP_F( 7);
                      // ×´Ì¬     5        
                      GPIO_IOCFG_P5_SET_0( 0);
                      GPIO_IOCFG_P5_SET_0( 1);
                      GPIO_IOCFG_P5_SET_0( 2);
                      GPIO_IOCFG_P5_SET_0( 3);
                      GPIO_IOCFG_P5_SET_0( 4);
                      GPIO_IOCFG_P5_SET_0( 5);
                      GPIO_IOCFG_P5_SET_0( 6);
                      GPIO_IOCFG_P5_SET_0( 7);
              
              // @brief P6¿Ú ×Ü¹²7¸ù¿ÚÏß p6.1/2/3/4/5/6/7   SEG8/ SEG7/ SEG6/ SEG5/ SEG4/ SEG3/ SEG2
                      GPIO_IOCFG_P6_DIR_I( 1);
                      GPIO_IOCFG_P6_DIR_I( 2);
                      GPIO_IOCFG_P6_DIR_I( 3);
                      GPIO_IOCFG_P6_DIR_I( 4);
                      GPIO_IOCFG_P6_DIR_I( 5);
                      GPIO_IOCFG_P6_DIR_I( 6);
                      GPIO_IOCFG_P6_DIR_I( 7);
                      // ÉÏÀ­     6        
                      GPIO_IOCFG_P6_PUP_F( 1);
                      GPIO_IOCFG_P6_PUP_F( 2);
                      GPIO_IOCFG_P6_PUP_F( 3);
                      GPIO_IOCFG_P6_PUP_F( 4);
                      GPIO_IOCFG_P6_PUP_F( 5);
                      GPIO_IOCFG_P6_PUP_F( 6);
                      GPIO_IOCFG_P6_PUP_F( 7);
                      // ×´Ì¬     6        
                      GPIO_IOCFG_P6_SET_0( 1);
                      GPIO_IOCFG_P6_SET_0( 2);
                      GPIO_IOCFG_P6_SET_0( 3);
                      GPIO_IOCFG_P6_SET_0( 4);
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 14  

                      GPIO_IOCFG_P6_SET_0( 5);
                      GPIO_IOCFG_P6_SET_0( 6);
                      GPIO_IOCFG_P6_SET_0( 7); 
              
              // @brief P7¿Ú ×Ü¹²5¸ù¿ÚÏß p7.0/1/5/ Êý¾ÝÊÖ²á¼Ä´æÆ÷ÀïÏÔÊ¾ÓÐ5¸ö£¬µ«Êµ¼Ê·â×°Ö»ÓÐ3¸ö SEG1/ NULL/ NULL
                      GPIO_IOCFG_P7_DIR_I( 0);
                      GPIO_IOCFG_P7_DIR_I( 1);
                      GPIO_IOCFG_P7_DIR_I( 5);
                      // ÉÏÀ­     7        
                      GPIO_IOCFG_P7_PUP_F( 0);
                      GPIO_IOCFG_P7_PUP_F( 1);
                      GPIO_IOCFG_P7_PUP_F( 5);
                      // ×´Ì¬     7        
                      GPIO_IOCFG_P7_SET_0( 0);
                      GPIO_IOCFG_P7_SET_0( 1);
                      GPIO_IOCFG_P7_SET_0( 5);
              
              // @brief P8¿Ú ×Ü¹²2¸ù¿ÚÏß p8.6/7 SDA/ SCL
                      GPIO_IOCFG_P8_DIR_I( 6);
                      GPIO_IOCFG_P8_DIR_I( 7);
                      // ÉÏÀ­     8        
                      GPIO_IOCFG_P8_PUP_F( 6);
                      GPIO_IOCFG_P8_PUP_F( 7);
                      // ×´Ì¬     8        
                      GPIO_IOCFG_P8_SET_0( 6);
                      GPIO_IOCFG_P8_SET_0( 7); 
              
              // @brief P9¿Ú ×Ü¹²8¸ù¿ÚÏß p9.0/1/2/3/4/5/6/7   WP/ LED_CTL/ COM1-COM6 / 
                      GPIO_IOCFG_P9_DIR_I( 0);        
                      GPIO_IOCFG_P9_DIR_I( 1);        // ÏÈÉèÖÃ³ÉÊäÈë,ÃâµÃÉÏµçµÄÊ±ºòÉÁÒ»ÏÂ
                      GPIO_IOCFG_P9_DIR_I( 2);
                      GPIO_IOCFG_P9_DIR_I( 3);
                      GPIO_IOCFG_P9_DIR_I( 4);
                      GPIO_IOCFG_P9_DIR_I( 5);
                      GPIO_IOCFG_P9_DIR_I( 6);
                      GPIO_IOCFG_P9_DIR_I( 7);        
                      // ÉÏÀ­     9        
                      GPIO_IOCFG_P9_PUP_F( 0);
                      GPIO_IOCFG_P9_PUP_F( 1);
                      GPIO_IOCFG_P9_PUP_F( 2);
                      GPIO_IOCFG_P9_PUP_F( 3);
                      GPIO_IOCFG_P9_PUP_F( 4);
                      GPIO_IOCFG_P9_PUP_F( 5);
                      GPIO_IOCFG_P9_PUP_F( 6);
                      GPIO_IOCFG_P9_PUP_F( 7);
                      // ×´Ì¬     9        
                      GPIO_IOCFG_P9_SET_0( 0);
                      GPIO_IOCFG_P9_SET_0( 1);  // ±³¹âÔÝÊ±²»µãÁÁ
                      GPIO_IOCFG_P9_SET_0( 2);
                      GPIO_IOCFG_P9_SET_0( 3); 
                      GPIO_IOCFG_P9_SET_0( 4);
                      GPIO_IOCFG_P9_SET_0( 5); 
                      GPIO_IOCFG_P9_SET_0( 6);
                      GPIO_IOCFG_P9_SET_0( 7); 
              }
              #endif
 851          /*------------------------------------------------------------------------------------------------------*/
 852          /**
 853           *  @brief    µôµçÅäÖÃuart     
 854           *
 855           *  @return   xx
 856           *
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 15  

 857           *  @note     xx
 858           *
 859           */
 860          /*------------------------------------------------------------------------------------------------------*/
 861          
 862          static void ApiPwOff_McuUartInit(void)
 863          {
 864   1              SCON &= ~(SCON_RI | SCON_TI);
 865   1              IEN0 &= ~IEN0_ES0;
 866   1              
 867   1              SCON1 &= ~(SCON1_RI1 | SCON1_TI1);
 868   1              IEN1  &= ~IEN1_ES1;
 869   1               
 870   1      }
 871          
 872          /*------------------------------------------------------------------------------------------------------*/
 873          /**
 874           *  @brief    µôµçÅäÖÃÏÔÊ¾    
 875           *
 876           *  @return   xx
 877           *
 878           *  @note     xx
 879           *
 880           */
 881          /*------------------------------------------------------------------------------------------------------*/
 882          
 883          static void ApiPwOff_McuDispInit(void)
 884          {
 885   1              LCDDrv_Init(POWER_OFF);
 886   1      }
 887          /*------------------------------------------------------------------------------------------------------*/
 888          /**
 889           *  @brief    µôµçÅäÖÃ¼ÆÁ¿Ä£¿é   
 890           *
 891           *  @return   xx
 892           *
 893           *  @note     xx
 894           *
 895           */
 896          /*------------------------------------------------------------------------------------------------------*/
 897          
 898          static void ApiPwOff_EmuInit(void)
 899          {
 900   1              ApiMS_DisOrEnable(EMU_DISENABLE);
 901   1      }
 902          
 903          /*------------------------------------------------------------------------------------------------------*/
 904          /**
 905           *  @brief    ½øÈëµôµçÄ£Ê½  
 906           *
 907           *  @return   xx
 908           *
 909           *  @note     xx
 910           *
 911           */
 912          /*------------------------------------------------------------------------------------------------------*/
 913          
 914          static void ApiPwOff_McuEnterSleep(void)
 915          {
 916   1      //      ENTER_POWERDWN();
 917   1      }
 918          
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 16  

 919          
 920          
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 17  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint16_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
IB_CON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F3H  1
COMM_BLE_STAT. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
API_COMM_STATUS_OVERTIME . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TB81 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DBH  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
IB_CON3. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F4H  1
ApiPwOff_McuLPDInit. . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
FP64 . . . . . . . . . . . . . . . . .  TYPEDEF  -----  FLOAT    -----  4
TKCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A4H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
IB_CON4. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F5H  1
PASLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E7H  1
_DrvE2p_WriteData. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GStr_ENERGYDEC_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucaFw_EnergyDec. . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  13
  ucaBk_EnergyDec. . . . . . . . . . .  MEMBER   -----  ARRAY    000DH  13
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
OSCLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FEH  1
IB_CON5. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F6H  1
ApiPwOn_SysTemInit . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GStr_EventRecordNum_Type . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucEventTimes . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  24
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0018H  2
GStr_FLAG_Type . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  ucSystem . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucMeterMode. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucPwOnState. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucRunState . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  ucRunState2. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ucRunState1. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  ucRunState3. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  ucDisp . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0009H  1
  ucFactoryKey . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000AH  1
  ucDispKey. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  ucMoney. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  ucPowerOnFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
  ucWrE2promSafeByte . . . . . . . . .  MEMBER   -----  U_CHAR   000EH  1
  ucBLESTATFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   000FH  1
BOOLEAN. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
SM1_RXOV . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
SPCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A1H  1
SBRTH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009CH  1
P5 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E9H  1
LIB_E2P_Price_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
P6 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EAH  1
ApiPwOff_McuEnterSleep . . . . . . . .  STATIC   CODE   PROC     0000H  -----
LIB_E2P_Display_Table. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_DISPLAY_PARA_Type . . . . . . . .  TYPEDEF  -----  STRUCT   -----  129
  ucFullDisp_Time. . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucDispDurTime. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucAutoDispNum. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 18  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ucKeyDispNum . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  usDisp_ParaCRC16 . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  ucAutoDisptable. . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  30
  ucKeyDisptable . . . . . . . . . . .  MEMBER   -----  ARRAY    0024H  30
  usDisp_tableCRC16. . . . . . . . . .  MEMBER   -----  U_INT    0042H  2
  ucBackLightTime. . . . . . . . . . .  MEMBER   -----  U_CHAR   0044H  1
  ucRelayLEDTime . . . . . . . . . . .  MEMBER   -----  U_CHAR   0045H  1
  ulDispUpdataTime . . . . . . . . . .  MEMBER   -----  U_LONG   0046H  4
  usDispCnt. . . . . . . . . . . . . .  MEMBER   -----  U_INT    004AH  2
  ulDisptimer. . . . . . . . . . . . .  MEMBER   -----  U_LONG   004CH  4
  ucKeydelaytimer. . . . . . . . . . .  MEMBER   -----  U_CHAR   0050H  1
  ucFirstKeyDisp . . . . . . . . . . .  MEMBER   -----  U_CHAR   0051H  1
  ucDisp_0_flag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0052H  1
  ucDisp_tongxin_Flag. . . . . . . . .  MEMBER   -----  U_CHAR   0053H  1
  ucDisp_tongxin_Time. . . . . . . . .  MEMBER   -----  U_LONG   0054H  4
  ucDispNum. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0058H  1
  ucLCDDrvDispBuf. . . . . . . . . . .  MEMBER   -----  ARRAY    0059H  40
int32_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
P7 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EBH  1
IB_DATA. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EFH  1
P8 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ECH  1
int16_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
SBRTL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009DH  1
P9 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EDH  1
PBANKLO. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B7H  1
GStr_COUNTER_Type. . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ucFactoryMode_Cnt. . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  ucKeyRelayOn_Cnt . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  ucRelayDelay_Cnt . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucHoldMoney_Cnt. . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucPasswordErr_Cnt. . . . . . . . . .  MEMBER   -----  ARRAY    0006H  3
ApiPwOff_PeripheralInit. . . . . . . .  STATIC   CODE   PROC     0000H  -----
GStr_EnergyPulseBk . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  8
SPSTA. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A2H  1
IEN0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
PWRCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B3H  1
ulong32. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
EMUSR. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
IEN1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
PWRCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B4H  1
DPH1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0085H  1
P0_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0080H  1
ushort16 . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P1_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
P0_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0081H  1
ADCH . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C3H  1
BLE_DRV_OPERATION_INDEX. . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
LIB_E2P_SOFTI_J. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P2_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A0H  1
P1_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
P0_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0082H  1
IPH0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BAH  1
DPL1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0084H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
LIB_E2P_FUN_CONFIG_BAK . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MONITOR_Tpye. . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  59
  ulTimer_ms . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 19  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ulTimer_ms_old . . . . . . . . . . .  MEMBER   -----  U_LONG   0004H  4
  ulTimerClrWDT. . . . . . . . . . . .  MEMBER   -----  U_LONG   0008H  4
  ulTimerMin . . . . . . . . . . . . .  MEMBER   -----  U_LONG   000CH  4
  ulTimer5ms . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0010H  4
  ucPowerOnTimer . . . . . . . . . . .  MEMBER   -----  U_CHAR   0014H  1
  ulTimers . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0015H  4
  ulUpDateUIPTime. . . . . . . . . . .  MEMBER   -----  U_LONG   0019H  4
  ulSoftI_JTime. . . . . . . . . . . .  MEMBER   -----  U_LONG   001DH  4
  usSoftI_JTimeCRC16 . . . . . . . . .  MEMBER   -----  U_INT    0021H  2
  usPasswordErrTime. . . . . . . . . .  MEMBER   -----  ARRAY    0023H  8
  ucCommSymbolTime . . . . . . . . . .  MEMBER   -----  U_CHAR   002BH  1
  ucPowerLimitNum. . . . . . . . . . .  MEMBER   -----  U_CHAR   002CH  1
  ulOverDemandCloseTime. . . . . . . .  MEMBER   -----  U_LONG   002DH  4
  ulProgEventDelayTime . . . . . . . .  MEMBER   -----  U_LONG   0031H  4
  ulReadRandom2DelayTime . . . . . . .  MEMBER   -----  U_LONG   0035H  4
  ucBleAdvCnt. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0039H  1
  ucBleConnectCnt. . . . . . . . . . .  MEMBER   -----  U_CHAR   003AH  1
P3_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
P2_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A1H  1
P1_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
P0_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0083H  1
IPH1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BBH  1
COMM_BLE_MAC . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P4_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C0H  1
P3_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
P2_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A2H  1
P1_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
P0_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
EXF0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
P4_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C1H  1
P3_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
P2_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A3H  1
P1_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
P0_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
P4_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C2H  1
P3_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
P2_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A4H  1
P1_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
P0_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0086H  1
EXF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
P0CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
TKF0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A6H  1
IPL0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
LIB_E2P_ENRGY_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P4_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C3H  1
P3_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
P2_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A5H  1
P1_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
P0_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
REN1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DCH  1
P1CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
IPL1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B9H  1
LIB_E2P_EventNum . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
long32 . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
P4_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C4H  1
P3_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
P2_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A6H  1
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 20  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P1_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0097H  1
TK0H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E2H  1
SUSLO. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008EH  1
P4_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C5H  1
P3_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
P2_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A7H  1
P3CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
TK1H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E4H  1
P4_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C6H  1
P3_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
P4CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
TK2H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E6H  1
LIB_E2P_Money_BAK. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
short16. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
P4_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C7H  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
P5CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
GStr_EnergyPulseFw . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  8
E7816. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
TK0L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E1H  1
API_COMM_STATUS_ERROR. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
P7CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
EADR . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0091H  1
TK1L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E3H  1
TK2L . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E5H  1
SADEN1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DBH  1
SM10_FE1 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DFH  1
P9CR . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
SADEN2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FBH  1
LIB_E2P_EMU_CALPARA. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_ENERGY_PULSE_Type . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  ucPulseAdd . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucPulseAddBusy . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucPulseStatu . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucPulseDecimal . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ucPulseDecSavePtr. . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucPulseDecSaveNoFF . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucaPulseRemain . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  2
PS0L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
ApiPwOff_EmuInit . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
PT0L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
SADDR1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DAH  1
LIB_E2P_INDEX_MAX. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_Display_Para . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM12_TXCOL1. . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DDH  1
PT1L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
SADDR2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FAH  1
RCAP2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
ApiPwOff_CloseDevices. . . . . . . . .  STATIC   CODE   PROC     0000H  -----
COMM_BLE_MOD . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PT2L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
P0OS . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
SP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0081H  1
ApiPwOff_McuTimerInit. . . . . . . . .  STATIC   CODE   PROC     0000H  -----
ApiPwOff_PowerOffTask. . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 21  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  V_ucCnti . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
INT32S . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
LIB_E2P_EventNumPiont. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_METER_IFO_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  27
  ucaCommAddr. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucaMeterID . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  6
  ucaUserID. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    000CH  6
  ucVoltageTrans . . . . . . . . . . .  MEMBER   -----  ARRAY    0012H  3
  ucCurrentTrans . . . . . . . . . . .  MEMBER   -----  ARRAY    0015H  3
  ucBpsVal . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0018H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0019H  2
P3OS . . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
RCAP2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
INT32U . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
INT16S . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
INT16U . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
PX4L . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
C_T2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
SFINE2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DEH  1
ApiPwOn_PowerChk . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_LibPub_WriteDataToE2prom. . . . . . .  EXTERN   CODE   PROC     -----  -----
GStr_BLE_GROUP_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  ucBleMAC . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucBleName. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  12
  ucBleKey . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0012H  3
  usAdvTime. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0015H  2
  ucBleTPL . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0017H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0018H  2
COMM_BLE_MFV . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_EventNumPiont_Type. . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  uc_Num . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
IRCON1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ADH  1
IRCON2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AFH  1
GStr_Comm_MAP. . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaDataId. . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  ucaRamAdd. . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
  IsWrite. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  ucaE2pIndex. . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
  ucaE2offset. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000AH  1
  ucaDataLen . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  IsBCD. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  EEIsHEX. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
API_COMM_STATUS_IDLE . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EXCON1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ABH  1
ApiPwOff_McuGpioInit . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
SBUF . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0099H  1
EXCON2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ACH  1
PCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0087H  1
ApiPwOff_McuDispInit . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
B32_B08. . . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  4
  B08. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B16. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B32. . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
AUXC . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F1H  1
COMM_BLE_TPL . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 22  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


GStr_UART_COMM_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  423
  ucCommChStatus . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucCommRevStep. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucCommRevLen . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  ucCommSndLen . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ucCommSndCnt . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucCommAddrType . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucCommError. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ulCommTimeInit . . . . . . . . . . .  MEMBER   -----  U_LONG   0007H  4
  ulCommRcvByteOverTime. . . . . . . .  MEMBER   -----  U_LONG   000BH  4
  ulCommSndByteOverTime. . . . . . . .  MEMBER   -----  U_LONG   000FH  4
  ulCommRspOverTime. . . . . . . . . .  MEMBER   -----  U_LONG   0013H  4
  ucaCommRXBuff. . . . . . . . . . . .  MEMBER   -----  ARRAY    0017H  200
  ucaCommTXBuff. . . . . . . . . . . .  MEMBER   -----  ARRAY    00DFH  200
GStr_ENERGY_Type . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  10
  ucaFw_Energy . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaBk_Energy . . . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
GU_B32_B08_Type. . . . . . . . . . . .  TYPEDEF  -----  UNION    -----  4
  B08. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B16. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  B32. . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
TK0BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D4H  1
TMOD . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0089H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
IENX . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AAH  1
IB_OFFSET. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EEH  1
P0DRVH . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
TK1BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D6H  1
SBRT1H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DCH  1
TK2BASEH . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DFH  1
SBRT2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FCH  1
RSTSTAT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B1H  1
LIB_E2P_Password . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TK0BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D3H  1
LIB_E2P_BLE_PARA . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_RUN_STATE. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TK1BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D5H  1
SBRT1L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DDH  1
COMM_BLE_TTP . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EMU_EPADR_Type . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  ucEmuAddr. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ulEmuRegData . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
TK2BASEL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D7H  1
SBRT2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FDH  1
ApiPwOff_Display . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
API_COMM_STATUS_SEND . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_LibPub_CRC16_CCITT. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SM0_FE . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
CLKCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B2H  1
API_COMM_STATUS_RECV_OK. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ApiPwOff_McuUartInit . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
SM2_TXCOL. . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
LDOCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B5H  1
B. . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F0H  1
ApiPwOff_DataProcess . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 23  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


API_COMM_STATUS_RECV . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EMU_CALPARA_Type . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  22
  ulaCalPara . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  20
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0014H  2
_LibPub_DelayNms . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CP_RL2 . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
LIB_E2P_EMU_UIPKms . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_UIP_GROUP_Type. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  68
  ulVoltage. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  16
  ulCurrent. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  16
  ulPower. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  16
  ulFactory. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  16
  ulFrequency. . . . . . . . . . . . .  MEMBER   -----  U_LONG   0040H  4
ENUM_API_COMM_STATUS . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
ACC. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E0H  1
ES0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
_ApiMS_DisOrEnable . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
RI1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D8H  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
TH0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008CH  1
INSCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0086H  1
TH1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008DH  1
uchar8 . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
TI1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D9H  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
TH2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
LIB_E2P_EMU_CALPARA_BAK. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
uint8_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
GStr_UIP_DISPLAY_Type. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  135
  ucVoltage. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucVoltageA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucVoltageB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  ucVoltageC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    000CH  4
  ucCOMMVoltage. . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  4
  ucCOMMVoltageA . . . . . . . . . . .  MEMBER   -----  ARRAY    0014H  4
  ucCOMMVoltageB . . . . . . . . . . .  MEMBER   -----  ARRAY    0018H  4
  ucCOMMVoltageC . . . . . . . . . . .  MEMBER   -----  ARRAY    001CH  4
  ucCurrent. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  4
  ucCurrentA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0024H  4
  ucCurrentB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0028H  4
  ucCurrentC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    002CH  4
  ucCOMMCurrent. . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  4
  ucCOMMCurrentA . . . . . . . . . . .  MEMBER   -----  ARRAY    0034H  4
  ucCOMMCurrentB . . . . . . . . . . .  MEMBER   -----  ARRAY    0038H  4
  ucCOMMCurrentC . . . . . . . . . . .  MEMBER   -----  ARRAY    003CH  4
  ucPower. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0040H  4
  ucPowerA . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0044H  4
  ucPowerB . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0048H  4
  ucPowerC . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    004CH  4
  ucCOMMPower. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0050H  4
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 24  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ucCOMMPowerA . . . . . . . . . . . .  MEMBER   -----  ARRAY    0054H  4
  ucCOMMPowerB . . . . . . . . . . . .  MEMBER   -----  ARRAY    0058H  4
  ucCOMMPowerC . . . . . . . . . . . .  MEMBER   -----  ARRAY    005CH  4
  ucFactory. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0060H  4
  ucFactoryA . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0064H  4
  ucFactoryB . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0068H  4
  ucFactoryC . . . . . . . . . . . . .  MEMBER   -----  ARRAY    006CH  4
  ucCOMMFactory. . . . . . . . . . . .  MEMBER   -----  ARRAY    0070H  4
  ucCOMMFactoryA . . . . . . . . . . .  MEMBER   -----  ARRAY    0074H  4
  ucCOMMFactoryB . . . . . . . . . . .  MEMBER   -----  ARRAY    0078H  4
  ucCOMMFactoryC . . . . . . . . . . .  MEMBER   -----  ARRAY    007CH  4
  ucFrequency. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0080H  4
  ucMeterConst . . . . . . . . . . . .  MEMBER   -----  ARRAY    0084H  3
TL0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008AH  1
EX4. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
TL1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008BH  1
FLASHCON . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A7H  1
LIB_E2P_Money_Para . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
TL2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
LIB_E2P_ENERGY_DECPULSE_BK . . . . . .  E_CONST  -----  U_CHAR   -----  1
ApiPwOff_SysClkInit. . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
LIB_E2P_AvailTimer . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
ADCDH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C5H  1
LIB_E2P_Price. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_AVAIL_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  41
  us_IDAvailTimer. . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  ucBackMonFlag. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0003H  2
  ulAutRemainingTime . . . . . . . . .  MEMBER   -----  U_LONG   0005H  4
  ucRechangeMoney. . . . . . . . . . .  MEMBER   -----  ARRAY    0009H  4
  ucBuybeforeMoney . . . . . . . . . .  MEMBER   -----  ARRAY    000DH  4
  ucbeforeFwEnergy . . . . . . . . . .  MEMBER   -----  ARRAY    0011H  4
  ucbeforeBkEnergy . . . . . . . . . .  MEMBER   -----  ARRAY    0015H  4
  ucE2Key. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0019H  16
GU_BoolWordVariable. . . . . . . . . .  TYPEDEF  -----  UNION    -----  2
  BYTE . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  2
  BIT. . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0000H  2
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
PWMCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009FH  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
char8. . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
int8_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
ADCDL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C4H  1
ADT. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C2H  1
LIB_E2P_INDEX. . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
ApiPwOff_BLEPOWERInit. . . . . . . . .  STATIC   CODE   PROC     0000H  -----
GStr_PRICE_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaPrice . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaPurchaseMoneyAll. . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucPurchaseTimes. . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
DPH. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0083H  1
GStr_Flag. . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  16
ApiPwOff_EnterSleep. . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 25  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


DPL. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0082H  1
SBUF1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D9H  1
COMM_BLE_EADV. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_FUN_CONFIG . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EXEN2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
SBUF2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F9H  1
EMU_COMM_CAL_TAB_Type. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2
  ucCommDI1. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucEmuAddr. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
LIB_E2P_ENERGY_DECPULSE_FW . . . . . .  E_CONST  -----  U_CHAR   -----  1
SM11_RXOV1 . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DEH  1
PADCL. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BEH  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
P0INM. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
SCON1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
STATUS . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
P0PHM. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
P0PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
LCDCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D1H  1
ADCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C1H  1
SCON2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
TCON1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008FH  1
LIB_E2P_EventValidPiont. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_ENRGY. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P1PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
LCDCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D2H  1
EDTAH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0092H  1
T2MOD. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
EMU_UIPKms_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ulaKmsuip. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  12
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
P3PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
GStr_FUN_CONFIG_Type . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  ucFunCurrentVal. . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ucFunMeterConst. . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  ucRes. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0002H  12
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
P4PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
GStr_EventParaData . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  V_usEventID. . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  V_usEventAddr. . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  V_ucEventLenth . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
LIB_E2P_Money. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P5PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
EDTAL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
GStr_EEPROM_MAP. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  ucE2pAddressIndex. . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  usE2pAddress . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  ucE2pSize. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  ucE2pLen . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  ucIsCRC. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  ucIsBak. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
EDTAM. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
TK0DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
SADEN. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
wchar_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 26  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


LIB_E2P_METER_INFO . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_Money . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  14
P7PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
TK1DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BEH  1
PBANK. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B6H  1
GStr_EventValidPiont_Type. . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  uc_Point . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
TK2DIFH. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A5H  1
ApiPwOff_DataSave. . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
  V_ucTempBuff . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  4
EADTP. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AEH  1
P9PCR. . . . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
SADDR. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
TK0DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CFH  1
LIB_E2P_ENERGY_DECPULSE_WS . . . . . .  E_CONST  -----  U_CHAR   -----  1
GStr_MONEY_Type. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  14
  ucaRemainMoney . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  6
  ucaTickMoney . . . . . . . . . . . .  MEMBER   -----  ARRAY    0006H  6
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
TK1DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BDH  1
TK2DIFL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BFH  1
P7816L . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
LPDCON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C6H  1
LIB_E2P_EMU_UIPKms_BAK . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LPDCON2. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C7H  1
MAX_BLE_INDEX. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LIB_E2P_SecretKey. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
IRDAT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AEH  1
F1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D1H  1
EMUIE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
SFINE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009EH  1
XPAGE. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F7H  1
Gstr_VirtualEsam . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  64
  ucTempKey. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  16
  ucDisKey . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0010H  16
  ucComplexKey . . . . . . . . . . . .  MEMBER   -----  ARRAY    0020H  16
  ucRs485RandNum . . . . . . . . . . .  MEMBER   -----  ARRAY    0030H  8
  ucRs485RandNum2. . . . . . . . . . .  MEMBER   -----  ARRAY    0038H  8
GStr_MONEY_PARA_Type . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  25
  ucaAlarmMoneyL1. . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
  ucaAlarmMoneyL2. . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  4
  ucaMaxMoneyLimit . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  4
  ucaTickMoneyLimit. . . . . . . . . .  MEMBER   -----  ARRAY    000CH  4
  ucaAllowcloseMoney . . . . . . . . .  MEMBER   -----  ARRAY    0010H  4
  ucaOverLoadVal . . . . . . . . . . .  MEMBER   -----  ARRAY    0014H  3
  usCRC16. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0017H  2
INT8S. . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
EMUIF. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0097H  1
_LCDDrv_Init . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
API_COMM_STATUS_FRAME_OK . . . . . . .  E_CONST  -----  U_CHAR   -----  1
INT8U. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
FP32 . . . . . . . . . . . . . . . . .  TYPEDEF  -----  FLOAT    -----  4
uint32_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
API_COMM_STATUS_FRAME. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
C51 COMPILER V9.54   APPPOWEROFF                                                           11/18/2021 18:51:17 PAGE 27  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


RB81 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DAH  1
SPDAT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A3H  1
IB_CON1. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F2H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    815    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       5
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
